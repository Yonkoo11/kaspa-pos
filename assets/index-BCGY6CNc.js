(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Kn=!1;var oi=Array.isArray,ss=Array.prototype.indexOf,ye=Array.prototype.includes,an=Array.from,ai=Object.defineProperty,we=Object.getOwnPropertyDescriptor,os=Object.getOwnPropertyDescriptors,as=Object.prototype,ls=Array.prototype,li=Object.getPrototypeOf,br=Object.isExtensible;const Gt=()=>{};function us(t){return t()}function en(t){for(var e=0;e<t.length;e++)t[e]()}function ui(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const Z=2,nn=4,je=8,fi=1<<24,Vt=16,At=32,fe=64,nr=128,mt=512,Q=1024,tt=2048,yt=4096,ht=8192,Ot=16384,rr=32768,be=65536,xr=1<<17,ci=1<<18,Te=1<<19,di=1<<20,Ut=1<<25,le=32768,jn=1<<21,ir=1<<22,Qt=1<<23,se=Symbol("$state"),fs=Symbol("legacy props"),_e=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function cs(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ds(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function hs(t,e,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function vs(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ps(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gs(t){throw new Error("https://svelte.dev/e/effect_orphan")}function _s(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ms(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function ws(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ys(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function bs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function xs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Es=1,Cs=2,hi=4,As=8,Ss=16,ks=2,Ts=4,Ms=8,Ps=1,Rs=2,X=Symbol();function Bs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function vi(t){return t===this.v}function pi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function gi(t){return!pi(t,this.v)}let Me=!1,Is=!1;function Ns(){Me=!0}let z=null;function xe(t){z=t}function Ve(t,e=!1,n){z={p:z,i:!1,c:null,e:null,s:t,x:null,l:Me&&!e?{s:null,u:null,$:[]}:null}}function ze(t){var e=z,n=e.e;if(n!==null){e.e=null;for(var r of n)Ni(r)}return e.i=!0,z=e.p,{}}function He(){return!Me||z!==null&&z.l===null}let ne=[];function _i(){var t=ne;ne=[],en(t)}function Kt(t){if(ne.length===0&&!Fe){var e=ne;queueMicrotask(()=>{e===ne&&_i()})}ne.push(t)}function Ds(){for(;ne.length>0;)_i()}function mi(t){var e=U;if(e===null)return q.f|=Qt,t;if((e.f&rr)===0){if((e.f&nr)===0)throw t;e.b.error(t)}else Ee(t,e)}function Ee(t,e){for(;e!==null;){if((e.f&nr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Ls=-7169;function Y(t,e){t.f=t.f&Ls|e}function sr(t){(t.f&mt)!==0||t.deps===null?Y(t,Q):Y(t,yt)}function wi(t){if(t!==null)for(const e of t)(e.f&Z)===0||(e.f&le)===0||(e.f^=le,wi(e.deps))}function yi(t,e,n){(t.f&tt)!==0?e.add(t):(t.f&yt)!==0&&n.add(t),wi(t.deps),Y(t,Q)}const Qe=new Set;let O=null,Vn=null,xt=null,ot=[],ln=null,zn=!1,Fe=!1;class Wt{committed=!1;current=new Map;previous=new Map;#e=new Set;#a=new Set;#t=0;#s=0;#o=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#s>0}skip_effect(e){this.#i.has(e)||this.#i.set(e,{d:[],m:[]})}unskip_effect(e){var n=this.#i.get(e);if(n){this.#i.delete(e);for(var r of n.d)Y(r,tt),Et(r);for(r of n.m)Y(r,yt),Et(r)}}process(e){ot=[],this.apply();var n=[],r=[];for(const i of e)this.#u(i,n,r);if(this.is_deferred()){this.#f(r),this.#f(n);for(const[i,s]of this.#i)Ci(i,s)}else{for(const i of this.#e)i();this.#e.clear(),this.#t===0&&this.#c(),Vn=this,O=null,Er(r),Er(n),Vn=null,this.#o?.resolve()}xt=null}#u(e,n,r){e.f^=Q;for(var i=e.first,s=null;i!==null;){var o=i.f,l=(o&(At|fe))!==0,a=l&&(o&Q)!==0,u=a||(o&ht)!==0||this.#i.has(i);if(!u&&i.fn!==null){l?i.f^=Q:s!==null&&(o&(nn|je|fi))!==0?s.b.defer_effect(i):(o&nn)!==0?n.push(i):Pe(i)&&((o&Vt)!==0&&this.#n.add(i),Ae(i));var f=i.first;if(f!==null){i=f;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===s&&(s=null),i=h.next,h=h.parent}}#f(e){for(var n=0;n<e.length;n+=1)yi(e[n],this.#r,this.#n)}capture(e,n){n!==X&&!this.previous.has(e)&&this.previous.set(e,n),(e.f&Qt)===0&&(this.current.set(e,e.v),xt?.set(e,e.v))}activate(){O=this,this.apply()}deactivate(){O===this&&(O=null,xt=null)}flush(){if(this.activate(),ot.length>0){if(bi(),O!==null&&O!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#a)e(this);this.#a.clear()}#c(){if(Qe.size>1){this.previous.clear();var e=xt,n=!0;for(const i of Qe){if(i===this){n=!1;continue}const s=[];for(const[l,a]of this.current){if(i.current.has(l))if(n&&a!==i.current.get(l))i.current.set(l,a);else continue;s.push(l)}if(s.length===0)continue;const o=[...i.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var r=ot;ot=[];const l=new Set,a=new Map;for(const u of s)xi(u,o,l,a);if(ot.length>0){O=i,i.apply();for(const u of ot)i.#u(u,[],[]);i.deactivate()}ot=r}}O=null,xt=e}this.committed=!0,Qe.delete(this)}increment(e){this.#t+=1,e&&(this.#s+=1)}decrement(e){this.#t-=1,e&&(this.#s-=1),!this.#l&&(this.#l=!0,Kt(()=>{this.#l=!1,this.is_deferred()?ot.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#r)this.#n.delete(e),Y(e,tt),Et(e);for(const e of this.#n)Y(e,yt),Et(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#a.add(e)}settled(){return(this.#o??=ui()).promise}static ensure(){if(O===null){const e=O=new Wt;Qe.add(O),Fe||Kt(()=>{O===e&&e.flush()})}return O}apply(){}}function Fs(t){var e=Fe;Fe=!0;try{for(var n;;){if(Ds(),ot.length===0&&(O?.flush(),ot.length===0))return ln=null,n;bi()}}finally{Fe=e}}function bi(){zn=!0;var t=null;try{for(var e=0;ot.length>0;){var n=Wt.ensure();if(e++>1e3){var r,i;qs()}n.process(ot),Xt.clear()}}finally{ot=[],zn=!1,ln=null}}function qs(){try{_s()}catch(t){Ee(t,ln)}}let Ft=null;function Er(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Ot|ht))===0&&Pe(r)&&(Ft=new Set,Ae(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Fi(r):r.fn=null),Ft?.size>0)){Xt.clear();for(const i of Ft){if((i.f&(Ot|ht))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)Ft.has(o)&&(Ft.delete(o),s.push(o)),o=o.parent;for(let l=s.length-1;l>=0;l--){const a=s[l];(a.f&(Ot|ht))===0&&Ae(a)}}Ft.clear()}}Ft=null}}function xi(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&Z)!==0?xi(i,e,n,r):(s&(ir|Vt))!==0&&(s&tt)===0&&Ei(i,e,r)&&(Y(i,tt),Et(i))}}function Ei(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(ye.call(e,i))return!0;if((i.f&Z)!==0&&Ei(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function Et(t){for(var e=ln=t;e.parent!==null;){e=e.parent;var n=e.f;if(zn&&e===U&&(n&Vt)!==0&&(n&ci)===0)return;if((n&(fe|At))!==0){if((n&Q)===0)return;e.f^=Q}}ot.push(e)}function Ci(t,e){if(!((t.f&At)!==0&&(t.f&Q)!==0)){(t.f&tt)!==0?e.d.push(t):(t.f&yt)!==0&&e.m.push(t),Y(t,Q);for(var n=t.first;n!==null;)Ci(n,e),n=n.next}}function Us(t){let e=0,n=ue(0),r;return()=>{ur()&&(v(n),Je(()=>(e===0&&(r=F(()=>t(()=>qe(n)))),e+=1,()=>{Kt(()=>{e-=1,e===0&&(r?.(),r=void 0,qe(n))})})))}}var Os=be|Te|nr;function Ks(t,e,n){new js(t,e,n)}class js{parent;is_pending=!1;#e;#a=null;#t;#s;#o;#r=null;#n=null;#i=null;#l=null;#u=null;#f=0;#c=0;#v=!1;#h=!1;#p=new Set;#g=new Set;#d=null;#b=Us(()=>(this.#d=ue(this.#f),()=>{this.#d=null}));constructor(e,n,r){this.#e=e,this.#t=n,this.#s=r,this.parent=U.b,this.is_pending=!!this.#t.pending,this.#o=cr(()=>{U.b=this;{var i=this.#w();try{this.#r=_t(()=>r(i))}catch(s){this.error(s)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#u?.remove()}},Os)}#x(){try{this.#r=_t(()=>this.#s(this.#e))}catch(e){this.error(e)}}#E(){const e=this.#t.pending;e&&(this.#n=_t(()=>e(this.#e)),Kt(()=>{var n=this.#w();this.#r=this.#_(()=>(Wt.ensure(),_t(()=>this.#s(n)))),this.#c>0?this.#m():(oe(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#w(){var e=this.#e;return this.is_pending&&(this.#u=jt(),this.#e.before(this.#u),e=this.#u),e}defer_effect(e){yi(e,this.#p,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#_(e){var n=U,r=q,i=z;Mt(this.#o),bt(this.#o),xe(this.#o.ctx);try{return e()}catch(s){return mi(s),null}finally{Mt(n),bt(r),xe(i)}}#m(){const e=this.#t.pending;this.#r!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Oi(this.#r,this.#l)),this.#n===null&&(this.#n=_t(()=>e(this.#e)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}if(this.#c+=e,this.#c===0){this.is_pending=!1;for(const n of this.#p)Y(n,tt),Et(n);for(const n of this.#g)Y(n,yt),Et(n);this.#p.clear(),this.#g.clear(),this.#n&&oe(this.#n,()=>{this.#n=null}),this.#l&&(this.#e.before(this.#l),this.#l=null)}}update_pending_count(e){this.#y(e),this.#f+=e,!(!this.#d||this.#v)&&(this.#v=!0,Kt(()=>{this.#v=!1,this.#d&&Ce(this.#d,this.#f)}))}get_effect_pending(){return this.#b(),v(this.#d)}error(e){var n=this.#t.onerror;let r=this.#t.failed;if(this.#h||!n&&!r)throw e;this.#r&&(ut(this.#r),this.#r=null),this.#n&&(ut(this.#n),this.#n=null),this.#i&&(ut(this.#i),this.#i=null);var i=!1,s=!1;const o=()=>{if(i){Bs();return}i=!0,s&&xs(),Wt.ensure(),this.#f=0,this.#i!==null&&oe(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#_(()=>(this.#h=!1,_t(()=>this.#s(this.#e)))),this.#c>0?this.#m():this.is_pending=!1};Kt(()=>{try{s=!0,n?.(e,o),s=!1}catch(l){Ee(l,this.#o&&this.#o.parent)}r&&(this.#i=this.#_(()=>{Wt.ensure(),this.#h=!0;try{return _t(()=>{r(this.#e,()=>e,()=>o)})}catch(l){return Ee(l,this.#o.parent),null}finally{this.#h=!1}}))})}}function Vs(t,e,n,r){const i=He()?or:ar;var s=t.filter(d=>!d.settled);if(n.length===0&&s.length===0){r(e.map(i));return}var o=O,l=U,a=zs(),u=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(d=>d.promise)):null;function f(d){a();try{r(d)}catch(c){(l.f&Ot)===0&&Ee(c,l)}o?.deactivate(),Hn()}if(n.length===0){u.then(()=>f(e.map(i)));return}function h(){a(),Promise.all(n.map(d=>Hs(d))).then(d=>f([...e.map(i),...d])).catch(d=>Ee(d,l))}u?u.then(h):h()}function zs(){var t=U,e=q,n=z,r=O;return function(s=!0){Mt(t),bt(e),xe(n),s&&r?.activate()}}function Hn(){Mt(null),bt(null),xe(null)}function or(t){var e=Z|tt,n=q!==null&&(q.f&Z)!==0?q:null;return U!==null&&(U.f|=Te),{ctx:z,deps:null,effects:null,equals:vi,f:e,fn:t,reactions:null,rv:0,v:X,wv:0,parent:n??U,ac:null}}function Hs(t,e,n){let r=U;r===null&&ds();var i=r.b,s=void 0,o=ue(X),l=!q,a=new Map;return no(()=>{var u=ui();s=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{f===O&&f.committed&&f.deactivate(),Hn()})}catch(c){u.reject(c),Hn()}var f=O;if(l){var h=i.is_rendered();i.update_pending_count(1),f.increment(h),a.get(f)?.reject(_e),a.delete(f),a.set(f,u)}const d=(c,p=void 0)=>{if(f.activate(),p)p!==_e&&(o.f|=Qt,Ce(o,p));else{(o.f&Qt)!==0&&(o.f^=Qt),Ce(o,c);for(const[_,g]of a){if(a.delete(_),_===f)break;g.reject(_e)}}l&&(i.update_pending_count(-1),f.decrement(h))};u.promise.then(d,c=>d(null,c||"unknown"))}),fr(()=>{for(const u of a.values())u.reject(_e)}),new Promise(u=>{function f(h){function d(){h===s?u(o):f(s)}h.then(d,d)}f(s)})}function ar(t){const e=or(t);return e.equals=gi,e}function Ai(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)ut(e[n])}}function Ys(t){for(var e=t.parent;e!==null;){if((e.f&Z)===0)return(e.f&Ot)===0?e:null;e=e.parent}return null}function lr(t){var e,n=U;Mt(Ys(t));try{t.f&=~le,Ai(t),e=zi(t)}finally{Mt(n)}return e}function Si(t){var e=lr(t);if(!t.equals(e)&&(t.wv=ji(),(!O?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){Y(t,Q);return}Zt||(xt!==null?(ur()||O?.is_fork)&&xt.set(t,e):sr(t))}let Yn=new Set;const Xt=new Map;let ki=!1;function ue(t,e){var n={f:0,v:t,reactions:null,equals:vi,rv:0,wv:0};return n}function Ht(t,e){const n=ue(t);return so(n),n}function G(t,e=!1,n=!0){const r=ue(t);return e||(r.equals=gi),Me&&n&&z!==null&&z.l!==null&&(z.l.s??=[]).push(r),r}function N(t,e,n=!1){q!==null&&(!Ct||(q.f&xr)!==0)&&He()&&(q.f&(Z|Vt|ir|xr))!==0&&(wt===null||!ye.call(wt,t))&&bs();let r=n?me(e):e;return Ce(t,r)}function Ce(t,e){if(!t.equals(e)){var n=t.v;Zt?Xt.set(t,e):Xt.set(t,n),t.v=e;var r=Wt.ensure();if(r.capture(t,n),(t.f&Z)!==0){const i=t;(t.f&tt)!==0&&lr(i),sr(i)}t.wv=ji(),Ti(t,tt),He()&&U!==null&&(U.f&Q)!==0&&(U.f&(At|fe))===0&&(gt===null?oo([t]):gt.push(t)),!r.is_fork&&Yn.size>0&&!ki&&Js()}return e}function Js(){ki=!1;for(const t of Yn)(t.f&Q)!==0&&Y(t,yt),Pe(t)&&Ae(t);Yn.clear()}function qe(t){N(t,t.v+1)}function Ti(t,e){var n=t.reactions;if(n!==null)for(var r=He(),i=n.length,s=0;s<i;s++){var o=n[s],l=o.f;if(!(!r&&o===U)){var a=(l&tt)===0;if(a&&Y(o,e),(l&Z)!==0){var u=o;xt?.delete(u),(l&le)===0&&(l&mt&&(o.f|=le),Ti(u,yt))}else a&&((l&Vt)!==0&&Ft!==null&&Ft.add(o),Et(o))}}}function me(t){if(typeof t!="object"||t===null||se in t)return t;const e=li(t);if(e!==as&&e!==ls)return t;var n=new Map,r=oi(t),i=Ht(0),s=ae,o=l=>{if(ae===s)return l();var a=q,u=ae;bt(null),Sr(s);var f=l();return bt(a),Sr(u),f};return r&&n.set("length",Ht(t.length)),new Proxy(t,{defineProperty(l,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ws();var f=n.get(a);return f===void 0?o(()=>{var h=Ht(u.value);return n.set(a,h),h}):N(f,u.value,!0),!0},deleteProperty(l,a){var u=n.get(a);if(u===void 0){if(a in l){const f=o(()=>Ht(X));n.set(a,f),qe(i)}}else N(u,X),qe(i);return!0},get(l,a,u){if(a===se)return t;var f=n.get(a),h=a in l;if(f===void 0&&(!h||we(l,a)?.writable)&&(f=o(()=>{var c=me(h?l[a]:X),p=Ht(c);return p}),n.set(a,f)),f!==void 0){var d=v(f);return d===X?void 0:d}return Reflect.get(l,a,u)},getOwnPropertyDescriptor(l,a){var u=Reflect.getOwnPropertyDescriptor(l,a);if(u&&"value"in u){var f=n.get(a);f&&(u.value=v(f))}else if(u===void 0){var h=n.get(a),d=h?.v;if(h!==void 0&&d!==X)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,a){if(a===se)return!0;var u=n.get(a),f=u!==void 0&&u.v!==X||Reflect.has(l,a);if(u!==void 0||U!==null&&(!f||we(l,a)?.writable)){u===void 0&&(u=o(()=>{var d=f?me(l[a]):X,c=Ht(d);return c}),n.set(a,u));var h=v(u);if(h===X)return!1}return f},set(l,a,u,f){var h=n.get(a),d=a in l;if(r&&a==="length")for(var c=u;c<h.v;c+=1){var p=n.get(c+"");p!==void 0?N(p,X):c in l&&(p=o(()=>Ht(X)),n.set(c+"",p))}if(h===void 0)(!d||we(l,a)?.writable)&&(h=o(()=>Ht(void 0)),N(h,me(u)),n.set(a,h));else{d=h.v!==X;var _=o(()=>me(u));N(h,_)}var g=Reflect.getOwnPropertyDescriptor(l,a);if(g?.set&&g.set.call(f,u),!d){if(r&&typeof a=="string"){var m=n.get("length"),E=Number(a);Number.isInteger(E)&&E>=m.v&&N(m,E+1)}qe(i)}return!0},ownKeys(l){v(i);var a=Reflect.ownKeys(l).filter(h=>{var d=n.get(h);return d===void 0||d.v!==X});for(var[u,f]of n)f.v!==X&&!(u in l)&&a.push(u);return a},setPrototypeOf(){ys()}})}var Jn,Mi,Pi,Ri;function $s(){if(Jn===void 0){Jn=window,Mi=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Pi=we(e,"firstChild").get,Ri=we(e,"nextSibling").get,br(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),br(n)&&(n.__t=void 0)}}function jt(t=""){return document.createTextNode(t)}function rn(t){return Pi.call(t)}function Ye(t){return Ri.call(t)}function T(t,e){return rn(t)}function $n(t,e=!1){{var n=rn(t);return n instanceof Comment&&n.data===""?Ye(n):n}}function I(t,e=1,n=!1){let r=t;for(;e--;)r=Ye(r);return r}function Gs(t){t.textContent=""}function Bi(){return!1}let Cr=!1;function Qs(){Cr||(Cr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function un(t){var e=q,n=U;bt(null),Mt(null);try{return t()}finally{bt(e),Mt(n)}}function Ws(t,e,n,r=n){t.addEventListener(e,()=>un(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),Qs()}function Ii(t){U===null&&(q===null&&gs(),ps()),Zt&&vs()}function Xs(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Pt(t,e,n){var r=U;r!==null&&(r.f&ht)!==0&&(t|=ht);var i={ctx:z,deps:null,nodes:null,f:t|tt|mt,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Ae(i),i.f|=rr}catch(l){throw ut(i),l}else e!==null&&Et(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Te)===0&&(s=s.first,(t&Vt)!==0&&(t&be)!==0&&s!==null&&(s.f|=be)),s!==null&&(s.parent=r,r!==null&&Xs(s,r),q!==null&&(q.f&Z)!==0&&(t&fe)===0)){var o=q;(o.effects??=[]).push(s)}return i}function ur(){return q!==null&&!Ct}function fr(t){const e=Pt(je,null,!1);return Y(e,Q),e.teardown=t,e}function Gn(t){Ii();var e=U.f,n=!q&&(e&At)!==0&&(e&rr)===0;if(n){var r=z;(r.e??=[]).push(t)}else return Ni(t)}function Ni(t){return Pt(nn|di,t,!1)}function Zs(t){return Ii(),Pt(je|di,t,!0)}function to(t){Wt.ensure();const e=Pt(fe|Te,t,!0);return(n={})=>new Promise(r=>{n.outro?oe(e,()=>{ut(e),r(void 0)}):(ut(e),r(void 0))})}function eo(t){return Pt(nn,t,!1)}function Tt(t,e){var n=z,r={effect:null,ran:!1,deps:t};n.l.$.push(r),r.effect=Je(()=>{t(),!r.ran&&(r.ran=!0,F(e))})}function fn(){var t=z;Je(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&Q)!==0&&n.deps!==null&&Y(n,yt),Pe(n)&&Ae(n),e.ran=!1}})}function no(t){return Pt(ir|Te,t,!0)}function Je(t,e=0){return Pt(je|e,t,!0)}function nt(t,e=[],n=[],r=[]){Vs(r,e,n,i=>{Pt(je,()=>t(...i.map(v)),!0)})}function cr(t,e=0){var n=Pt(Vt|e,t,!0);return n}function _t(t){return Pt(At|Te,t,!0)}function Di(t){var e=t.teardown;if(e!==null){const n=Zt,r=q;Ar(!0),bt(null);try{e.call(null)}finally{Ar(n),bt(r)}}}function Li(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&un(()=>{i.abort(_e)});var r=n.next;(n.f&fe)!==0?n.parent=null:ut(n,e),n=r}}function ro(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&At)===0&&ut(e),e=n}}function ut(t,e=!0){var n=!1;(e||(t.f&ci)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(io(t.nodes.start,t.nodes.end),n=!0),Li(t,e&&!n),sn(t,0),Y(t,Ot);var r=t.nodes&&t.nodes.t;if(r!==null)for(const s of r)s.stop();Di(t);var i=t.parent;i!==null&&i.first!==null&&Fi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function io(t,e){for(;t!==null;){var n=t===e?null:Ye(t);t.remove(),t=n}}function Fi(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function oe(t,e,n=!0){var r=[];qi(t,r,!0);var i=()=>{n&&ut(t),e&&e()},s=r.length;if(s>0){var o=()=>--s||i();for(var l of r)l.out(o)}else i()}function qi(t,e,n){if((t.f&ht)===0){t.f^=ht;var r=t.nodes&&t.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&e.push(l);for(var i=t.first;i!==null;){var s=i.next,o=(i.f&be)!==0||(i.f&At)!==0&&(t.f&Vt)!==0;qi(i,e,o?n:!1),i=s}}}function dr(t){Ui(t,!0)}function Ui(t,e){if((t.f&ht)!==0){t.f^=ht,(t.f&Q)===0&&(Y(t,tt),Et(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&be)!==0||(n.f&At)!==0;Ui(n,i?e:!1),n=r}var s=t.nodes&&t.nodes.t;if(s!==null)for(const o of s)(o.is_global||e)&&o.in()}}function Oi(t,e){if(t.nodes)for(var n=t.nodes.start,r=t.nodes.end;n!==null;){var i=n===r?null:Ye(n);e.append(n),n=i}}let Ze=!1,Zt=!1;function Ar(t){Zt=t}let q=null,Ct=!1;function bt(t){q=t}let U=null;function Mt(t){U=t}let wt=null;function so(t){q!==null&&(wt===null?wt=[t]:wt.push(t))}let at=null,ct=0,gt=null;function oo(t){gt=t}let Ki=1,re=0,ae=re;function Sr(t){ae=t}function ji(){return++Ki}function Pe(t){var e=t.f;if((e&tt)!==0)return!0;if(e&Z&&(t.f&=~le),(e&yt)!==0){for(var n=t.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(Pe(s)&&Si(s),s.wv>t.wv)return!0}(e&mt)!==0&&xt===null&&Y(t,Q)}return!1}function Vi(t,e,n=!0){var r=t.reactions;if(r!==null&&!(wt!==null&&ye.call(wt,t)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Z)!==0?Vi(s,e,!1):e===s&&(n?Y(s,tt):(s.f&Q)!==0&&Y(s,yt),Et(s))}}function zi(t){var e=at,n=ct,r=gt,i=q,s=wt,o=z,l=Ct,a=ae,u=t.f;at=null,ct=0,gt=null,q=(u&(At|fe))===0?t:null,wt=null,xe(t.ctx),Ct=!1,ae=++re,t.ac!==null&&(un(()=>{t.ac.abort(_e)}),t.ac=null);try{t.f|=jn;var f=t.fn,h=f(),d=t.deps,c=O?.is_fork;if(at!==null){var p;if(c||sn(t,ct),d!==null&&ct>0)for(d.length=ct+at.length,p=0;p<at.length;p++)d[ct+p]=at[p];else t.deps=d=at;if(ur()&&(t.f&mt)!==0)for(p=ct;p<d.length;p++)(d[p].reactions??=[]).push(t)}else!c&&d!==null&&ct<d.length&&(sn(t,ct),d.length=ct);if(He()&&gt!==null&&!Ct&&d!==null&&(t.f&(Z|yt|tt))===0)for(p=0;p<gt.length;p++)Vi(gt[p],t);if(i!==null&&i!==t){if(re++,i.deps!==null)for(let _=0;_<n;_+=1)i.deps[_].rv=re;if(e!==null)for(const _ of e)_.rv=re;gt!==null&&(r===null?r=gt:r.push(...gt))}return(t.f&Qt)!==0&&(t.f^=Qt),h}catch(_){return mi(_)}finally{t.f^=jn,at=e,ct=n,gt=r,q=i,wt=s,xe(o),Ct=l,ae=a}}function ao(t,e){let n=e.reactions;if(n!==null){var r=ss.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(e.f&Z)!==0&&(at===null||!ye.call(at,e))){var s=e;(s.f&mt)!==0&&(s.f^=mt,s.f&=~le),sr(s),Ai(s),sn(s,0)}}function sn(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ao(t,n[r])}function Ae(t){var e=t.f;if((e&Ot)===0){Y(t,Q);var n=U,r=Ze;U=t,Ze=!0;try{(e&(Vt|fi))!==0?ro(t):Li(t),Di(t);var i=zi(t);t.teardown=typeof i=="function"?i:null,t.wv=Ki;var s;Kn&&Is&&(t.f&tt)!==0&&t.deps}finally{Ze=r,U=n}}}async function lo(){await Promise.resolve(),Fs()}function v(t){var e=t.f,n=(e&Z)!==0;if(q!==null&&!Ct){var r=U!==null&&(U.f&Ot)!==0;if(!r&&(wt===null||!ye.call(wt,t))){var i=q.deps;if((q.f&jn)!==0)t.rv<re&&(t.rv=re,at===null&&i!==null&&i[ct]===t?ct++:at===null?at=[t]:at.push(t));else{(q.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[q]:ye.call(s,q)||s.push(q)}}}if(Zt&&Xt.has(t))return Xt.get(t);if(n){var o=t;if(Zt){var l=o.v;return((o.f&Q)===0&&o.reactions!==null||Yi(o))&&(l=lr(o)),Xt.set(o,l),l}var a=(o.f&mt)===0&&!Ct&&q!==null&&(Ze||(q.f&mt)!==0),u=o.deps===null;Pe(o)&&(a&&(o.f|=mt),Si(o)),a&&!u&&Hi(o)}if(xt?.has(t))return xt.get(t);if((t.f&Qt)!==0)throw t.v;return t.v}function Hi(t){if(t.deps!==null){t.f|=mt;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&Z)!==0&&(e.f&mt)===0&&Hi(e)}}function Yi(t){if(t.v===X)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Xt.has(e)||(e.f&Z)!==0&&Yi(e))return!0;return!1}function F(t){var e=Ct;try{return Ct=!0,t()}finally{Ct=e}}function uo(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(se in t)Qn(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&se in n&&Qn(n)}}}function Qn(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Qn(t[r],e)}catch{}const n=li(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=os(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}const fo=["touchstart","touchmove"];function co(t){return fo.includes(t)}const Ji=new Set,Wn=new Set;function ho(t,e,n,r={}){function i(s){if(r.capture||De.call(e,s),!s.cancelBubble)return un(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Kt(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function vo(t,e,n,r,i){var s={capture:r,passive:i},o=ho(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&fr(()=>{e.removeEventListener(t,o,s)})}function cn(t){for(var e=0;e<t.length;e++)Ji.add(t[e]);for(var n of Wn)n(t)}let kr=null;function De(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;kr=t;var o=0,l=kr===t&&t.__root;if(l){var a=i.indexOf(l);if(a!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;a<=u&&(o=a)}if(s=i[o]||t.target,s!==e){ai(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=q,h=U;bt(null),Mt(null);try{for(var d,c=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+r];_!=null&&(!s.disabled||t.target===s)&&_.call(s,t)}catch(g){d?c.push(g):d=g}if(t.cancelBubble||p===e||p===null)break;s=p}if(d){for(let g of c)queueMicrotask(()=>{throw g});throw d}}finally{t.__root=e,delete t.currentTarget,bt(f),Mt(h)}}}function po(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function on(t,e){var n=U;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function W(t,e){var n=(e&Ps)!==0,r=(e&Rs)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=po(s?t:"<!>"+t),n||(i=rn(i)));var o=r||Mi?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=rn(o),a=o.lastChild;on(l,a)}else on(o,o);return o}}function he(t=""){{var e=jt(t+"");return on(e,e),e}}function go(){var t=document.createDocumentFragment(),e=document.createComment(""),n=jt();return t.append(e,n),on(e,n),t}function V(t,e){t!==null&&t.before(e)}function j(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function _o(t,e){return mo(t,e)}const ve=new Map;function mo(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){$s();var l=new Set,a=h=>{for(var d=0;d<h.length;d++){var c=h[d];if(!l.has(c)){l.add(c);var p=co(c);e.addEventListener(c,De,{passive:p});var _=ve.get(c);_===void 0?(document.addEventListener(c,De,{passive:p}),ve.set(c,1)):ve.set(c,_+1)}}};a(an(Ji)),Wn.add(a);var u=void 0,f=to(()=>{var h=n??e.appendChild(jt());return Ks(h,{pending:()=>{}},d=>{Ve({});var c=z;s&&(c.c=s),i&&(r.$$events=i),u=t(d,r)||{},ze()}),()=>{for(var d of l){e.removeEventListener(d,De);var c=ve.get(d);--c===0?(document.removeEventListener(d,De),ve.delete(d)):ve.set(d,c)}Wn.delete(a),h!==n&&h.parentNode?.removeChild(h)}});return wo.set(u,f),u}let wo=new WeakMap;class yo{anchor;#e=new Map;#a=new Map;#t=new Map;#s=new Set;#o=!0;constructor(e,n=!0){this.anchor=e,this.#o=n}#r=()=>{var e=O;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#a.get(n);if(r)dr(r),this.#s.delete(n);else{var i=this.#t.get(n);i&&(this.#a.set(n,i.effect),this.#t.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const l=this.#t.get(o);l&&(ut(l.effect),this.#t.delete(o))}for(const[s,o]of this.#a){if(s===n||this.#s.has(s))continue;const l=()=>{if(Array.from(this.#e.values()).includes(s)){var u=document.createDocumentFragment();Oi(o,u),u.append(jt()),this.#t.set(s,{effect:o,fragment:u})}else ut(o);this.#s.delete(s),this.#a.delete(s)};this.#o||!r?(this.#s.add(s),oe(o,l,!1)):l()}}};#n=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#t)n.includes(r)||(ut(i.effect),this.#t.delete(r))};ensure(e,n){var r=O,i=Bi();if(n&&!this.#a.has(e)&&!this.#t.has(e))if(i){var s=document.createDocumentFragment(),o=jt();s.append(o),this.#t.set(e,{effect:_t(()=>n(o)),fragment:s})}else this.#a.set(e,_t(()=>n(this.anchor)));if(this.#e.set(r,e),i){for(const[l,a]of this.#a)l===e?r.unskip_effect(a):r.skip_effect(a);for(const[l,a]of this.#t)l===e?r.unskip_effect(a.effect):r.skip_effect(a.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function dt(t,e,n=!1){var r=new yo(t),i=n?be:0;function s(o,l){r.ensure(o,l)}cr(()=>{var o=!1;e((l,a=0)=>{o=!0,s(a,l)}),o||s(!1,null)},i)}function hr(t,e){return e}function bo(t,e,n){for(var r=[],i=e.length,s,o=e.length,l=0;l<i;l++){let h=e[l];oe(h,()=>{if(s){if(s.pending.delete(h),s.done.add(h),s.pending.size===0){var d=t.outrogroups;Xn(an(s.done)),d.delete(s),d.size===0&&(t.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=r.length===0&&n!==null;if(a){var u=n,f=u.parentNode;Gs(f),f.append(u),t.items.clear()}Xn(e,!a)}else s={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(s)}function Xn(t,e=!0){for(var n=0;n<t.length;n++)ut(t[n],e)}var Tr;function vr(t,e,n,r,i,s=null){var o=t,l=new Map,a=(e&hi)!==0;if(a){var u=t;o=u.appendChild(jt())}var f=null,h=ar(()=>{var m=n();return oi(m)?m:m==null?[]:an(m)}),d,c=!0;function p(){g.fallback=f,xo(g,d,o,e,r),f!==null&&(d.length===0?(f.f&Ut)===0?dr(f):(f.f^=Ut,Le(f,null,o)):oe(f,()=>{f=null}))}var _=cr(()=>{d=v(h);for(var m=d.length,E=new Set,S=O,A=Bi(),D=0;D<m;D+=1){var x=d[D],C=r(x,D),y=c?null:l.get(C);y?(y.v&&Ce(y.v,x),y.i&&Ce(y.i,D),A&&S.unskip_effect(y.e)):(y=Eo(l,c?o:Tr??=jt(),x,C,D,i,e,n),c||(y.e.f|=Ut),l.set(C,y)),E.add(C)}if(m===0&&s&&!f&&(c?f=_t(()=>s(o)):(f=_t(()=>s(Tr??=jt())),f.f|=Ut)),m>E.size&&hs(),!c)if(A){for(const[w,k]of l)E.has(w)||S.skip_effect(k.e);S.oncommit(p),S.ondiscard(()=>{})}else p();v(h)}),g={effect:_,items:l,outrogroups:null,fallback:f};c=!1}function Ie(t){for(;t!==null&&(t.f&At)===0;)t=t.next;return t}function xo(t,e,n,r,i){var s=(r&As)!==0,o=e.length,l=t.items,a=Ie(t.effect.first),u,f=null,h,d=[],c=[],p,_,g,m;if(s)for(m=0;m<o;m+=1)p=e[m],_=i(p,m),g=l.get(_).e,(g.f&Ut)===0&&(g.nodes?.a?.measure(),(h??=new Set).add(g));for(m=0;m<o;m+=1){if(p=e[m],_=i(p,m),g=l.get(_).e,t.outrogroups!==null)for(const k of t.outrogroups)k.pending.delete(g),k.done.delete(g);if((g.f&Ut)!==0)if(g.f^=Ut,g===a)Le(g,null,n);else{var E=f?f.next:a;g===t.effect.last&&(t.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),Yt(t,f,g),Yt(t,g,E),Le(g,E,n),f=g,d=[],c=[],a=Ie(f.next);continue}if((g.f&ht)!==0&&(dr(g),s&&(g.nodes?.a?.unfix(),(h??=new Set).delete(g))),g!==a){if(u!==void 0&&u.has(g)){if(d.length<c.length){var S=c[0],A;f=S.prev;var D=d[0],x=d[d.length-1];for(A=0;A<d.length;A+=1)Le(d[A],S,n);for(A=0;A<c.length;A+=1)u.delete(c[A]);Yt(t,D.prev,x.next),Yt(t,f,D),Yt(t,x,S),a=S,f=x,m-=1,d=[],c=[]}else u.delete(g),Le(g,a,n),Yt(t,g.prev,g.next),Yt(t,g,f===null?t.effect.first:f.next),Yt(t,f,g),f=g;continue}for(d=[],c=[];a!==null&&a!==g;)(u??=new Set).add(a),c.push(a),a=Ie(a.next);if(a===null)continue}(g.f&Ut)===0&&d.push(g),f=g,a=Ie(g.next)}if(t.outrogroups!==null){for(const k of t.outrogroups)k.pending.size===0&&(Xn(an(k.done)),t.outrogroups?.delete(k));t.outrogroups.size===0&&(t.outrogroups=null)}if(a!==null||u!==void 0){var C=[];if(u!==void 0)for(g of u)(g.f&ht)===0&&C.push(g);for(;a!==null;)(a.f&ht)===0&&a!==t.fallback&&C.push(a),a=Ie(a.next);var y=C.length;if(y>0){var w=(r&hi)!==0&&o===0?n:null;if(s){for(m=0;m<y;m+=1)C[m].nodes?.a?.measure();for(m=0;m<y;m+=1)C[m].nodes?.a?.fix()}bo(t,C,w)}}s&&Kt(()=>{if(h!==void 0)for(g of h)g.nodes?.a?.apply()})}function Eo(t,e,n,r,i,s,o,l){var a=(o&Es)!==0?(o&Ss)===0?G(n,!1,!1):ue(n):null,u=(o&Cs)!==0?ue(i):null;return{v:a,i:u,e:_t(()=>(s(e,a??n,u??i,l),()=>{t.delete(r)}))}}function Le(t,e,n){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end,s=e&&(e.f&Ut)===0?e.nodes.start:n;r!==null;){var o=Ye(r);if(s.before(r),r===i)return;r=o}}function Yt(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}const Mr=[...` 	
\r\fÂ \v\uFEFF`];function Co(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+s;(o===0||Mr.includes(r[o-1]))&&(l===r.length||Mr.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Ao(t,e){return t==null?null:String(t)}function qt(t,e,n,r,i,s){var o=t.__className;if(o!==n||o===void 0){var l=Co(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&i!==s)for(var a in s){var u=!!s[a];(i==null||u!==!!i[a])&&t.classList.toggle(a,u)}return s}function So(t,e,n,r){var i=t.__style;if(i!==e){var s=Ao(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}function ko(t,e,n=e){var r=new WeakSet;Ws(t,"input",async i=>{var s=i?t.defaultValue:t.value;if(s=vn(t)?pn(s):s,n(s),O!==null&&r.add(O),await lo(),s!==(s=e())){var o=t.selectionStart,l=t.selectionEnd,a=t.value.length;if(t.value=s??"",l!==null){var u=t.value.length;o===l&&l===a&&u>a?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=o,t.selectionEnd=Math.min(l,u))}}}),F(e)==null&&t.value&&(n(vn(t)?pn(t.value):t.value),O!==null&&r.add(O)),Je(()=>{var i=e();if(t===document.activeElement){var s=Vn??O;if(r.has(s))return}vn(t)&&i===pn(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function vn(t){var e=t.type;return e==="number"||e==="range"}function pn(t){return t===""?null:+t}function Pr(t,e){return t===e||t?.[se]===e}function To(t={},e,n,r){return eo(()=>{var i,s;return Je(()=>{i=s,s=[],F(()=>{t!==n(...s)&&(e(t,...s),i&&Pr(n(...i),t)&&e(null,...i))})}),()=>{Kt(()=>{s&&Pr(n(...s),t)&&e(null,...s)})}}),t}function dn(t=!1){const e=z,n=e.l.u;if(!n)return;let r=()=>uo(e.s);if(t){let i=0,s={};const o=or(()=>{let l=!1;const a=e.s;for(const u in a)a[u]!==s[u]&&(s[u]=a[u],l=!0);return l&&i++,i});r=()=>v(o)}n.b.length&&Zs(()=>{Rr(e,r),en(n.b)}),Gn(()=>{const i=F(()=>n.m.map(us));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Gn(()=>{Rr(e,r),en(n.a)})}function Rr(t,e){if(t.l.s)for(const n of t.l.s)v(n);e()}function pr(t,e,n){if(t==null)return e(void 0),n&&n(void 0),Gt;const r=F(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const pe=[];function Mo(t,e){return{subscribe:St(t,e).subscribe}}function St(t,e=Gt){let n=null;const r=new Set;function i(l){if(pi(t,l)&&(t=l,n)){const a=!pe.length;for(const u of r)u[1](),pe.push(u,t);if(a){for(let u=0;u<pe.length;u+=2)pe[u][0](pe[u+1]);pe.length=0}}}function s(l){i(l(t))}function o(l,a=Gt){const u=[l,a];return r.add(u),r.size===1&&(n=e(i,s)||Gt),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function Po(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Mo(n,(o,l)=>{let a=!1;const u=[];let f=0,h=Gt;const d=()=>{if(f)return;h();const p=e(r?u[0]:u,o,l);s?o(p):h=typeof p=="function"?p:Gt},c=i.map((p,_)=>pr(p,g=>{u[_]=g,f&=~(1<<_),a&&d()},()=>{f|=1<<_}));return a=!0,d(),function(){en(c),h(),a=!1}})}function tn(t){let e;return pr(t,n=>e=n)(),e}let We=!1,Zn=Symbol();function lt(t,e,n){const r=n[e]??={store:null,source:G(void 0),unsubscribe:Gt};if(r.store!==t&&!(Zn in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=Gt;else{var i=!0;r.unsubscribe=pr(t,s=>{i?r.source.v=s:N(r.source,s)}),i=!1}return t&&Zn in n?tn(t):v(r.source)}function $e(){const t={};function e(){fr(()=>{for(var n in t)t[n].unsubscribe();ai(t,Zn,{enumerable:!1,value:!0})})}return[t,e]}function Ro(t){var e=We;try{return We=!1,[t(),We]}finally{We=e}}function $i(t,e,n,r){var i=!Me||(n&ks)!==0,s=(n&Ms)!==0,o=r,l=!0,a=()=>(l&&(l=!1,o=r),o),u;{var f=se in t||fs in t;u=we(t,e)?.set??(f&&e in t?E=>t[e]=E:void 0)}var h,d=!1;[h,d]=Ro(()=>t[e]),h===void 0&&r!==void 0&&(h=a(),u&&(i&&ms(),u(h)));var c;if(i?c=()=>{var E=t[e];return E===void 0?a():(l=!0,E)}:c=()=>{var E=t[e];return E!==void 0&&(o=void 0),E===void 0?o:E},i&&(n&Ts)===0)return c;if(u){var p=t.$$legacy;return(function(E,S){return arguments.length>0?((!i||!S||p||d)&&u(S?c():E),E):c()})}var _=!1,g=ar(()=>(_=!1,c()));v(g);var m=U;return(function(E,S){if(arguments.length>0){const A=S?v(g):i&&s?me(E):E;return N(g,A),_=!0,o!==void 0&&(o=A),E}return Zt&&_||(m.f&Ot)!==0?g.v:v(g)})}function gr(t){z===null&&cs(),Me&&z.l!==null?Bo(z).m.push(t):Gn(()=>{const e=F(t);if(typeof e=="function")return e})}function Bo(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Io="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Io);Ns();const No="https://api.kaspa.org";async function Gi(t){const e=await fetch(`${No}/addresses/${t}/utxos`);if(!e.ok)throw new Error(`UTXO fetch failed: ${e.status}`);const n=await e.json(),r=new Set;for(const i of n)r.add(`${i.outpoint.transactionId}:${i.outpoint.index}`);return r}function Do(t,e){return`kaspa:${t.replace("kaspa:","")}?amount=${e}`}function Lo(t,e,n,r,i=300){let s=!1;const o=async()=>{if(!s){try{const l=await Gi(t);for(const a of l)if(!e.has(a)){const u=a.split(":")[0];n(u),s=!0;return}}catch(l){r?.(l)}s||setTimeout(o,i)}};return o(),{stop:()=>{s=!0}}}let Jt=null,gn=0;const Fo=6e4;async function qo(){const t=Date.now();if(Jt!==null&&t-gn<Fo)return Jt;try{const e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=kaspa&vs_currencies=usd");if(!e.ok)throw new Error("Price fetch failed");if(Jt=(await e.json()).kaspa?.usd??null,gn=t,Jt!==null)return Jt}catch{}try{const e=await fetch("https://api.kaspa.org/info/price");if(e.ok)return Jt=(await e.json()).price??.1,gn=t,Jt}catch{}return Jt??.1}function Qi(t,e){return t*e}function Uo(t,e){return e<=0?0:t/e}const Ue=St("idle"),_r=St(0),mr=St(0),wr=St(.1),Oe=St(localStorage.getItem("kaspa-pos-address")||""),Se=St(JSON.parse(localStorage.getItem("kaspa-pos-history")||"[]")),Ke=St(null),_n=St(0),ke=St(0),tr=St(null);Oe.subscribe(t=>{t&&localStorage.setItem("kaspa-pos-address",t)});Se.subscribe(t=>{localStorage.setItem("kaspa-pos-history",JSON.stringify(t.slice(-50)))});const Oo=Po(Se,t=>{const e=new Date().setHours(0,0,0,0);return t.filter(n=>n.confirmedAt&&n.confirmedAt>=e).reduce((n,r)=>n+r.amountKAS,0)});let er=null,ie=null;async function Ko(){try{const t=await qo();wr.set(t)}catch{}}async function jo(t,e){const n=tn(Oe);if(!n){tr.set("Set your Kaspa address first");return}tr.set(null),_r.set(t),mr.set(e);let r;try{r=await Gi(n)}catch{r=new Set}const i={id:crypto.randomUUID(),amountKAS:t,amountUSD:e,address:n,txId:null,requestedAt:Date.now(),confirmedAt:null,confirmationMs:null};Ke.set(i),Ue.set("waiting"),_n.set(Date.now()),ie=setInterval(()=>{ke.set(Date.now()-tn(_n))},16),er=Lo(n,r,s=>{const o=Date.now(),l=tn(_n),a=o-l,u={...i,txId:s,confirmedAt:o,confirmationMs:a};Ke.set(u),Se.update(f=>[...f,u]),ke.set(a),Ue.set("confirmed"),ie&&clearInterval(ie),ie=null,Ho()},s=>{console.warn("Payment watch error:",s)})}function Vo(){er?.stop(),er=null,ie&&clearInterval(ie),ie=null,Ue.set("idle"),Ke.set(null),ke.set(0)}function zo(){Ue.set("idle"),Ke.set(null),ke.set(0),_r.set(0),mr.set(0)}function Ho(){try{const t=new AudioContext,e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1200,t.currentTime+.1),e.frequency.setValueAtTime(1600,t.currentTime+.2),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.4),e.start(t.currentTime),e.stop(t.currentTime+.4)}catch{}}var Yo=W('<button class="text-l4 hover:text-l2 transition-[color] duration-150 p-2.5" aria-label="Transaction history"><svg class="w-[18px] h-[18px]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button>'),Jo=W('<div class="mx-5 mb-3 p-4 glass rounded-[--radius-md]"><label for="merchant-address" class="block text-l4 text-[11px] uppercase tracking-[0.08em] mb-2 font-medium">Merchant Kaspa Address</label> <input id="merchant-address" type="text" placeholder="kaspa:qr..." class="w-full bg-white/[0.03] border border-white/[0.06] rounded-[--radius-sm] px-3 py-2.5 text-l1 text-base font-mono placeholder:text-l5 focus:outline-none focus:border-kaspa-teal/40 transition-[border-color] duration-150"/> <button class="mt-3 w-full bg-kaspa-teal/15 hover:bg-kaspa-teal/25 text-kaspa-teal font-medium py-2.5 rounded-[--radius-sm] transition-[background-color] duration-150 text-sm">Save Address</button></div>'),$o=W('<span class="text-l4 text-[56px] font-extralight leading-none tracking-tight">$</span><span class="text-l1 text-[72px] font-extralight leading-none tracking-tighter"> </span>',1),Go=W('<span class="text-l1 text-[72px] font-extralight leading-none tracking-tighter"> </span> <span class="text-l4 text-lg ml-3 font-normal">KAS</span>',1),Qo=W('<div class="mx-5 mb-2 px-3 py-2 glass rounded-[--radius-sm] border-danger/20 text-danger text-sm"> </div>'),Wo=W("<button> </button>"),Xo=W('<div class="flex flex-col h-full"><div class="flex items-center justify-between px-5 pt-5 pb-3"><div class="flex items-center gap-2.5"><div class="w-7 h-7 rounded-[--radius-sm] bg-kaspa-teal/15 flex items-center justify-center"><span class="text-kaspa-teal font-bold text-xs">K</span></div> <span class="text-l3 font-medium text-sm tracking-wide">KaspaPOS</span></div> <div class="flex items-center gap-1"><!> <button class="text-l4 hover:text-l2 transition-[color] duration-150 p-2.5" aria-label="Settings"><svg class="w-[18px] h-[18px]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></button></div></div> <!> <div class="flex-none px-5 pt-4 pb-6"><button class="text-l4 text-[11px] uppercase tracking-[0.08em] font-medium hover:text-l3 transition-[color] duration-150 mb-2 flex items-center gap-1.5"> <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path></svg></button> <div class="font-mono tabular-nums min-h-[5rem] flex items-baseline"><!></div> <div class="text-l3 text-sm mt-3 font-mono tabular-nums"><!> <span class="text-l4 ml-2"> </span></div></div> <!> <div class="flex-1 px-5 pb-5 flex flex-col gap-2"><div class="grid grid-cols-3 gap-2 flex-1 glass rounded-[--radius-md] p-2"></div> <button class="w-full py-3 rounded-[--radius-sm] text-l4 hover:text-l3 hover:bg-white/[0.04] transition-[background-color,color] duration-150 text-sm flex items-center justify-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l7-7 11 0v14H10L3 12z"></path></svg> Delete</button> <button><!></button></div></div>');function Zo(t,e){Ve(e,!1);const n=()=>lt(wr,"$kasPrice",o),r=()=>lt(Oe,"$merchantAddress",o),i=()=>lt(Se,"$payments",o),s=()=>lt(tr,"$error",o),[o,l]=$e(),a=G(),u=G(),f=G();let h=$i(e,"onShowHistory",8,()=>{}),d=G("usd"),c=G(""),p=G(!1),_=G(""),g=G(!1);gr(()=>{Ko(),N(_,r())});function m(B){B.key==="Escape"&&v(p)&&N(p,!1)}function E(B){if(B==="CLR"){N(c,"");return}if(B==="."&&v(c).includes("."))return;if(B==="."&&!v(c)){N(c,"0.");return}const L=v(c).split(".");L[1]&&L[1].length>=(v(d)==="usd"?2:8)||N(c,v(c)+B)}function S(){N(c,v(c).slice(0,-1))}async function A(){v(u)<=0||(N(g,!0),await jo(v(u),v(f)),N(g,!1))}function D(){Oe.set(v(_).trim()),N(p,!1)}function x(){N(d,v(d)==="usd"?"kas":"usd"),N(c,"")}const C=["1","2","3","4","5","6","7","8","9",".","0","CLR"];Tt(()=>v(c),()=>{N(a,parseFloat(v(c))||0)}),Tt(()=>(v(d),v(a),n()),()=>{N(u,v(d)==="usd"?Uo(v(a),n()):v(a))}),Tt(()=>(v(d),v(a),n()),()=>{N(f,v(d)==="kas"?Qi(v(a),n()):v(a))}),fn(),dn();var y=Xo();vo("keydown",Jn,m);var w=T(y),k=I(T(w),2),M=T(k);{var R=B=>{var L=Yo();L.__click=function(...$){h()?.apply(this,$)},V(B,L)};dt(M,B=>{i(),F(()=>i().length>0)&&B(R)})}var b=I(M,2);b.__click=()=>{N(p,!v(p)),v(p)&&N(_,r())};var P=I(w,2);{var et=B=>{var L=Jo(),$=I(T(L),2),ee=I($,2);ee.__click=D,ko($,()=>v(_),is=>N(_,is)),V(B,L)};dt(P,B=>{v(p)&&B(et)})}var ft=I(P,2),H=T(ft);H.__click=x;var Rt=T(H),J=I(H,2),K=T(J);{var st=B=>{var L=$o(),$=I($n(L)),ee=T($);nt(()=>j(ee,v(c)||"0")),V(B,L)},vt=B=>{var L=Go(),$=$n(L),ee=T($);nt(()=>j(ee,v(c)||"0")),V(B,L)};dt(K,B=>{v(d)==="usd"?B(st):B(vt,!1)})}var Bt=I(J,2),It=T(Bt);{var Nt=B=>{var L=he();nt($=>j(L,`${$??""} KAS`),[()=>(v(u),F(()=>v(u).toFixed(2)))]),V(B,L)},Dt=B=>{var L=he();nt($=>j(L,`$${$??""} USD`),[()=>(v(f),F(()=>v(f).toFixed(2)))]),V(B,L)};dt(It,B=>{v(d)==="usd"?B(Nt):B(Dt,!1)})}var rt=I(It,2),it=T(rt),pt=I(ft,2);{var te=B=>{var L=Qo(),$=T(L);nt(()=>j($,s())),V(B,L)};dt(pt,B=>{s()&&B(te)})}var hn=I(pt,2),Ge=T(hn);vr(Ge,5,()=>C,hr,(B,L)=>{var $=Wo();$.__click=()=>E(v(L));var ee=T($);nt(()=>{qt($,1,`rounded-[--radius-sm] text-xl transition-[transform,background-color] duration-100 active:scale-[0.97]
            ${v(L)==="CLR"?"text-l4 hover:bg-white/[0.06] text-sm tracking-[0.05em] font-medium":"text-l2 hover:bg-white/[0.06]"}`),j(ee,v(L))}),V(B,$)});var zt=I(Ge,2);zt.__click=S;var Lt=I(zt,2);Lt.__click=A;var Re=T(Lt);{var Be=B=>{var L=he("Connecting...");V(B,L)},es=B=>{var L=he("Set address to continue");V(B,L)},ns=B=>{var L=he("Enter Amount");V(B,L)},rs=B=>{var L=he();nt($=>j(L,`Charge ${$??""} KAS`),[()=>(v(u),F(()=>v(u).toFixed(2)))]),V(B,L)};dt(Re,B=>{v(g)?B(Be):r()?v(u)<=0?B(ns,2):B(rs,!1):B(es,1)})}nt(B=>{j(Rt,`${v(d)==="usd"?"US DOLLAR":"KASPA"} `),j(it,`@ $${B??""}`),Lt.disabled=v(u)<=0||!r()||v(g),qt(Lt,1,`w-full py-4 rounded-[--radius-md] font-semibold text-lg transition-[transform,opacity] duration-150 active:scale-[0.97]
        ${v(u)>0&&r()&&!v(g)?"bg-kaspa-teal text-kaspa-dark shadow-[0_0_30px_rgba(73,234,203,0.15)]":"glass text-l4 cursor-not-allowed"}`)},[()=>(n(),F(()=>n().toFixed(4)))]),V(t,y),ze(),l()}cn(["click"]);function ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ge={},mn,Br;function ea(){return Br||(Br=1,mn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),mn}var wn={},$t={},Ir;function ce(){if(Ir)return $t;Ir=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return $t.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},$t.getSymbolTotalCodewords=function(r){return e[r]},$t.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},$t.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},$t.isKanjiModeEnabled=function(){return typeof t<"u"},$t.toSJIS=function(r){return t(r)},$t}var yn={},Nr;function yr(){return Nr||(Nr=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(yn)),yn}var bn,Dr;function na(){if(Dr)return bn;Dr=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},bn=t,bn}var xn,Lr;function ra(){if(Lr)return xn;Lr=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},xn=t,xn}var En={},Fr;function ia(){return Fr||(Fr=1,(function(t){const e=ce().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let a=1;a<i-1;a++)l[a]=l[a-1]-o;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let l=0;l<o;l++)for(let a=0;a<o;a++)l===0&&a===0||l===0&&a===o-1||l===o-1&&a===0||i.push([s[l],s[a]]);return i}})(En)),En}var Cn={},qr;function sa(){if(qr)return Cn;qr=1;const t=ce().getSymbolSize,e=7;return Cn.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},Cn}var An={},Ur;function oa(){return Ur||(Ur=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,l=0,a=0,u=null,f=null;for(let h=0;h<s;h++){l=a=0,u=f=null;for(let d=0;d<s;d++){let c=i.get(h,d);c===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=c,l=1),c=i.get(d,h),c===f?a++:(a>=5&&(o+=e.N1+(a-5)),f=c,a=1)}l>=5&&(o+=e.N1+(l-5)),a>=5&&(o+=e.N1+(a-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let l=0;l<s-1;l++)for(let a=0;a<s-1;a++){const u=i.get(l,a)+i.get(l,a+1)+i.get(l+1,a)+i.get(l+1,a+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,l=0,a=0;for(let u=0;u<s;u++){l=a=0;for(let f=0;f<s;f++)l=l<<1&2047|i.get(u,f),f>=10&&(l===1488||l===93)&&o++,a=a<<1&2047|i.get(f,u),f>=10&&(a===1488||a===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let a=0;a<o;a++)s+=i.data[a];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let l=0;l<o;l++)for(let a=0;a<o;a++)s.isReserved(a,l)||s.xor(a,l,n(i,a,l))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let l=0,a=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),f<a&&(a=f,l=u)}return l}})(An)),An}var Xe={},Or;function Wi(){if(Or)return Xe;Or=1;const t=yr(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Xe.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Xe.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Xe}var Sn={},Ne={},Kr;function aa(){if(Kr)return Ne;Kr=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Ne.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Ne.exp=function(r){return t[r]},Ne.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Ne}var jr;function la(){return jr||(jr=1,(function(t){const e=aa();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<i.length;l++)s[o+l]^=e.mul(r[o],i[l]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let a=0;a<i.length;a++)s[a]^=e.mul(i[a],o);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Sn)),Sn}var kn,Vr;function ua(){if(Vr)return kn;Vr=1;const t=la();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(s,o),l}return s},kn=e,kn}var Tn={},Mn={},Pn={},zr;function Xi(){return zr||(zr=1,Pn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Pn}var kt={},Hr;function Zi(){if(Hr)return kt;Hr=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;kt.KANJI=new RegExp(n,"g"),kt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),kt.BYTE=new RegExp(r,"g"),kt.NUMERIC=new RegExp(t,"g"),kt.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return kt.testKanji=function(a){return i.test(a)},kt.testNumeric=function(a){return s.test(a)},kt.testAlphanumeric=function(a){return o.test(a)},kt}var Yr;function de(){return Yr||(Yr=1,(function(t){const e=Xi(),n=Zi();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(Mn)),Mn}var Jr;function fa(){return Jr||(Jr=1,(function(t){const e=ce(),n=Wi(),r=yr(),i=de(),s=Xi(),o=7973,l=e.getBCHDigit(o);function a(d,c,p){for(let _=1;_<=40;_++)if(c<=t.getCapacity(_,p,d))return _}function u(d,c){return i.getCharCountIndicator(d,c)+4}function f(d,c){let p=0;return d.forEach(function(_){const g=u(_.mode,c);p+=g+_.getBitsLength()}),p}function h(d,c){for(let p=1;p<=40;p++)if(f(d,p)<=t.getCapacity(p,c,i.MIXED))return p}t.from=function(c,p){return s.isValid(c)?parseInt(c,10):p},t.getCapacity=function(c,p,_){if(!s.isValid(c))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const g=e.getSymbolTotalCodewords(c),m=n.getTotalCodewordsCount(c,p),E=(g-m)*8;if(_===i.MIXED)return E;const S=E-u(_,c);switch(_){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(c,p){let _;const g=r.from(p,r.M);if(Array.isArray(c)){if(c.length>1)return h(c,g);if(c.length===0)return 1;_=c[0]}else _=c;return a(_.mode,_.getLength(),g)},t.getEncodedBits=function(c){if(!s.isValid(c)||c<7)throw new Error("Invalid QR Code version");let p=c<<12;for(;e.getBCHDigit(p)-l>=0;)p^=o<<e.getBCHDigit(p)-l;return c<<12|p}})(Tn)),Tn}var Rn={},$r;function ca(){if($r)return Rn;$r=1;const t=ce(),e=1335,n=21522,r=t.getBCHDigit(e);return Rn.getEncodedBits=function(s,o){const l=s.bit<<3|o;let a=l<<10;for(;t.getBCHDigit(a)-r>=0;)a^=e<<t.getBCHDigit(a)-r;return(l<<10|a)^n},Rn}var Bn={},In,Gr;function da(){if(Gr)return In;Gr=1;const t=de();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,l*3+1))},In=e,In}var Nn,Qr;function ha(){if(Qr)return Nn;Qr=1;const t=de(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},Nn=n,Nn}var Dn,Wr;function va(){if(Wr)return Dn;Wr=1;const t=de();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},Dn=e,Dn}var Ln,Xr;function pa(){if(Xr)return Ln;Xr=1;const t=de(),e=ce();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},Ln=n,Ln}var Fn={exports:{}},Zr;function ga(){return Zr||(Zr=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var a,u,f,h,d,c,p,_,g;!l.empty();){a=l.pop(),u=a.value,h=a.cost,d=n[u]||{};for(f in d)d.hasOwnProperty(f)&&(c=d[f],p=h+c,_=o[f],g=typeof o[f]>"u",(g||_>p)&&(o[f]=p,l.push(f,p),s[f]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var m=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Fn)),Fn.exports}var ti;function _a(){return ti||(ti=1,(function(t){const e=de(),n=da(),r=ha(),i=va(),s=pa(),o=Zi(),l=ce(),a=ga();function u(m){return unescape(encodeURIComponent(m)).length}function f(m,E,S){const A=[];let D;for(;(D=m.exec(S))!==null;)A.push({data:D[0],index:D.index,mode:E,length:D[0].length});return A}function h(m){const E=f(o.NUMERIC,e.NUMERIC,m),S=f(o.ALPHANUMERIC,e.ALPHANUMERIC,m);let A,D;return l.isKanjiModeEnabled()?(A=f(o.BYTE,e.BYTE,m),D=f(o.KANJI,e.KANJI,m)):(A=f(o.BYTE_KANJI,e.BYTE,m),D=[]),E.concat(S,A,D).sort(function(C,y){return C.index-y.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function d(m,E){switch(E){case e.NUMERIC:return n.getBitsLength(m);case e.ALPHANUMERIC:return r.getBitsLength(m);case e.KANJI:return s.getBitsLength(m);case e.BYTE:return i.getBitsLength(m)}}function c(m){return m.reduce(function(E,S){const A=E.length-1>=0?E[E.length-1]:null;return A&&A.mode===S.mode?(E[E.length-1].data+=S.data,E):(E.push(S),E)},[])}function p(m){const E=[];for(let S=0;S<m.length;S++){const A=m[S];switch(A.mode){case e.NUMERIC:E.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:E.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:E.push([A,{data:A.data,mode:e.BYTE,length:u(A.data)}]);break;case e.BYTE:E.push([{data:A.data,mode:e.BYTE,length:u(A.data)}])}}return E}function _(m,E){const S={},A={start:{}};let D=["start"];for(let x=0;x<m.length;x++){const C=m[x],y=[];for(let w=0;w<C.length;w++){const k=C[w],M=""+x+w;y.push(M),S[M]={node:k,lastCount:0},A[M]={};for(let R=0;R<D.length;R++){const b=D[R];S[b]&&S[b].node.mode===k.mode?(A[b][M]=d(S[b].lastCount+k.length,k.mode)-d(S[b].lastCount,k.mode),S[b].lastCount+=k.length):(S[b]&&(S[b].lastCount=k.length),A[b][M]=d(k.length,k.mode)+4+e.getCharCountIndicator(k.mode,E))}}D=y}for(let x=0;x<D.length;x++)A[D[x]].end=0;return{map:A,table:S}}function g(m,E){let S;const A=e.getBestModeForData(m);if(S=e.from(E,A),S!==e.BYTE&&S.bit<A.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(A));switch(S===e.KANJI&&!l.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new n(m);case e.ALPHANUMERIC:return new r(m);case e.KANJI:return new s(m);case e.BYTE:return new i(m)}}t.fromArray=function(E){return E.reduce(function(S,A){return typeof A=="string"?S.push(g(A,null)):A.data&&S.push(g(A.data,A.mode)),S},[])},t.fromString=function(E,S){const A=h(E,l.isKanjiModeEnabled()),D=p(A),x=_(D,S),C=a.find_path(x.map,"start","end"),y=[];for(let w=1;w<C.length-1;w++)y.push(x.table[C[w]].node);return t.fromArray(c(y))},t.rawSplit=function(E){return t.fromArray(h(E,l.isKanjiModeEnabled()))}})(Bn)),Bn}var ei;function ma(){if(ei)return wn;ei=1;const t=ce(),e=yr(),n=na(),r=ra(),i=ia(),s=sa(),o=oa(),l=Wi(),a=ua(),u=fa(),f=ca(),h=de(),d=_a();function c(x,C){const y=x.size,w=s.getPositions(C);for(let k=0;k<w.length;k++){const M=w[k][0],R=w[k][1];for(let b=-1;b<=7;b++)if(!(M+b<=-1||y<=M+b))for(let P=-1;P<=7;P++)R+P<=-1||y<=R+P||(b>=0&&b<=6&&(P===0||P===6)||P>=0&&P<=6&&(b===0||b===6)||b>=2&&b<=4&&P>=2&&P<=4?x.set(M+b,R+P,!0,!0):x.set(M+b,R+P,!1,!0))}}function p(x){const C=x.size;for(let y=8;y<C-8;y++){const w=y%2===0;x.set(y,6,w,!0),x.set(6,y,w,!0)}}function _(x,C){const y=i.getPositions(C);for(let w=0;w<y.length;w++){const k=y[w][0],M=y[w][1];for(let R=-2;R<=2;R++)for(let b=-2;b<=2;b++)R===-2||R===2||b===-2||b===2||R===0&&b===0?x.set(k+R,M+b,!0,!0):x.set(k+R,M+b,!1,!0)}}function g(x,C){const y=x.size,w=u.getEncodedBits(C);let k,M,R;for(let b=0;b<18;b++)k=Math.floor(b/3),M=b%3+y-8-3,R=(w>>b&1)===1,x.set(k,M,R,!0),x.set(M,k,R,!0)}function m(x,C,y){const w=x.size,k=f.getEncodedBits(C,y);let M,R;for(M=0;M<15;M++)R=(k>>M&1)===1,M<6?x.set(M,8,R,!0):M<8?x.set(M+1,8,R,!0):x.set(w-15+M,8,R,!0),M<8?x.set(8,w-M-1,R,!0):M<9?x.set(8,15-M-1+1,R,!0):x.set(8,15-M-1,R,!0);x.set(w-8,8,1,!0)}function E(x,C){const y=x.size;let w=-1,k=y-1,M=7,R=0;for(let b=y-1;b>0;b-=2)for(b===6&&b--;;){for(let P=0;P<2;P++)if(!x.isReserved(k,b-P)){let et=!1;R<C.length&&(et=(C[R]>>>M&1)===1),x.set(k,b-P,et),M--,M===-1&&(R++,M=7)}if(k+=w,k<0||y<=k){k-=w,w=-w;break}}}function S(x,C,y){const w=new n;y.forEach(function(P){w.put(P.mode.bit,4),w.put(P.getLength(),h.getCharCountIndicator(P.mode,x)),P.write(w)});const k=t.getSymbolTotalCodewords(x),M=l.getTotalCodewordsCount(x,C),R=(k-M)*8;for(w.getLengthInBits()+4<=R&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const b=(R-w.getLengthInBits())/8;for(let P=0;P<b;P++)w.put(P%2?17:236,8);return A(w,x,C)}function A(x,C,y){const w=t.getSymbolTotalCodewords(C),k=l.getTotalCodewordsCount(C,y),M=w-k,R=l.getBlocksCount(C,y),b=w%R,P=R-b,et=Math.floor(w/R),ft=Math.floor(M/R),H=ft+1,Rt=et-ft,J=new a(Rt);let K=0;const st=new Array(R),vt=new Array(R);let Bt=0;const It=new Uint8Array(x.buffer);for(let pt=0;pt<R;pt++){const te=pt<P?ft:H;st[pt]=It.slice(K,K+te),vt[pt]=J.encode(st[pt]),K+=te,Bt=Math.max(Bt,te)}const Nt=new Uint8Array(w);let Dt=0,rt,it;for(rt=0;rt<Bt;rt++)for(it=0;it<R;it++)rt<st[it].length&&(Nt[Dt++]=st[it][rt]);for(rt=0;rt<Rt;rt++)for(it=0;it<R;it++)Nt[Dt++]=vt[it][rt];return Nt}function D(x,C,y,w){let k;if(Array.isArray(x))k=d.fromArray(x);else if(typeof x=="string"){let et=C;if(!et){const ft=d.rawSplit(x);et=u.getBestVersionForData(ft,y)}k=d.fromString(x,et||40)}else throw new Error("Invalid data");const M=u.getBestVersionForData(k,y);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=M;else if(C<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`);const R=S(C,y,k),b=t.getSymbolSize(C),P=new r(b);return c(P,C),p(P),_(P,C),m(P,y,0),C>=7&&g(P,C),E(P,R),isNaN(w)&&(w=o.getBestMask(P,m.bind(null,P,y))),o.applyMask(w,P),m(P,y,w),{modules:P,version:C,errorCorrectionLevel:y,maskPattern:w,segments:k}}return wn.create=function(C,y){if(typeof C>"u"||C==="")throw new Error("No input text");let w=e.M,k,M;return typeof y<"u"&&(w=e.from(y.errorCorrectionLevel,e.M),k=u.from(y.version),M=o.from(y.maskPattern),y.toSJISFunc&&t.setToSJISFunction(y.toSJISFunc)),D(C,k,w,M)},wn}var qn={},Un={},ni;function ts(){return ni||(ni=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,l=i.modules.data,a=t.getScale(o,s),u=Math.floor((o+s.margin*2)*a),f=s.margin*a,h=[s.color.light,s.color.dark];for(let d=0;d<u;d++)for(let c=0;c<u;c++){let p=(d*u+c)*4,_=s.color.light;if(d>=f&&c>=f&&d<u-f&&c<u-f){const g=Math.floor((d-f)/a),m=Math.floor((c-f)/a);_=h[l[g*o+m]?1:0]}r[p++]=_.r,r[p++]=_.g,r[p++]=_.b,r[p]=_.a}}})(Un)),Un}var ri;function wa(){return ri||(ri=1,(function(t){const e=ts();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,l){let a=l,u=o;typeof a>"u"&&(!o||!o.getContext)&&(a=o,o=void 0),o||(u=r()),a=e.getOptions(a);const f=e.getImageWidth(s.modules.size,a),h=u.getContext("2d"),d=h.createImageData(f,f);return e.qrToImageData(d.data,s,a),n(h,u,f),h.putImageData(d,0,0),u},t.renderToDataURL=function(s,o,l){let a=l;typeof a>"u"&&(!o||!o.getContext)&&(a=o,o=void 0),a||(a={});const u=t.render(s,o,a),f=a.type||"image/png",h=a.rendererOpts||{};return u.toDataURL(f,h.quality)}})(qn)),qn}var On={},ii;function ya(){if(ii)return On;ii=1;const t=ts();function e(i,s){const o=i.a/255,l=s+'="'+i.hex+'"';return o<1?l+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function n(i,s,o){let l=i+s;return typeof o<"u"&&(l+=" "+o),l}function r(i,s,o){let l="",a=0,u=!1,f=0;for(let h=0;h<i.length;h++){const d=Math.floor(h%s),c=Math.floor(h/s);!d&&!u&&(u=!0),i[h]?(f++,h>0&&d>0&&i[h-1]||(l+=u?n("M",d+o,.5+c+o):n("m",a,0),a=0,u=!1),d+1<s&&i[h+1]||(l+=n("h",f),f=0)):a++}return l}return On.render=function(s,o,l){const a=t.getOptions(o),u=s.modules.size,f=s.modules.data,h=u+a.margin*2,d=a.color.light.a?"<path "+e(a.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",c="<path "+e(a.color.dark,"stroke")+' d="'+r(f,u,a.margin)+'"/>',p='viewBox="0 0 '+h+" "+h+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+p+' shape-rendering="crispEdges">'+d+c+`</svg>
`;return typeof l=="function"&&l(null,g),g},On}var si;function ba(){if(si)return ge;si=1;const t=ea(),e=ma(),n=wa(),r=ya();function i(s,o,l,a,u){const f=[].slice.call(arguments,1),h=f.length,d=typeof f[h-1]=="function";if(!d&&!t())throw new Error("Callback required as last argument");if(d){if(h<2)throw new Error("Too few arguments provided");h===2?(u=l,l=o,o=a=void 0):h===3&&(o.getContext&&typeof u>"u"?(u=a,a=void 0):(u=a,a=l,l=o,o=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(l=o,o=a=void 0):h===2&&!o.getContext&&(a=l,l=o,o=void 0),new Promise(function(c,p){try{const _=e.create(l,a);c(s(_,o,a))}catch(_){p(_)}})}try{const c=e.create(l,a);u(null,s(c,o,a))}catch(c){u(c)}}return ge.create=e.create,ge.toCanvas=i.bind(null,n.render),ge.toDataURL=i.bind(null,n.renderToDataURL),ge.toString=i.bind(null,function(s,o,l){return r.render(s,l)}),ge}var xa=ba();const Ea=ta(xa);var Ca=W('<div class="flex flex-col items-center justify-center h-full px-5 py-8 gap-8"><div class="text-center"><div class="text-l4 text-[11px] uppercase tracking-[0.08em] font-medium mb-2">Payment Request</div> <div class="text-[48px] font-light text-l1 font-mono tabular-nums leading-none tracking-tight flex items-baseline justify-center"> <span class="text-kaspa-teal text-lg ml-2 font-normal">KAS</span></div> <div class="text-l4 text-sm mt-1.5 font-mono"> </div></div> <div class="glass-strong rounded-[--radius-lg] p-5 qr-glow"><canvas></canvas></div> <div class="text-center"><div class="flex items-center gap-2 justify-center"><div class="w-1.5 h-1.5 rounded-full bg-kaspa-teal animate-pulse"></div> <span class="text-l3 text-sm">Waiting for payment</span></div> <div class="text-[40px] font-mono font-light text-l1 tabular-nums mt-3 leading-none tracking-tight"> <span class="text-lg text-l4">s</span></div></div> <div class="text-l5 text-[10px] font-mono break-all text-center max-w-[280px]"> </div> <button class="text-l4 hover:text-l3 text-sm transition-[color] duration-150 py-3 px-6">Cancel</button></div>');function Aa(t,e){Ve(e,!1);const n=()=>lt(Oe,"$merchantAddress",o),r=()=>lt(_r,"$amountKAS",o),i=()=>lt(ke,"$elapsedMs",o),s=()=>lt(mr,"$amountUSD",o),[o,l]=$e(),a=G();let u=G(),f="";gr(()=>{f=Do(n(),r()),Ea.toCanvas(v(u),f,{width:240,margin:2,color:{dark:"#0a0e17",light:"#ffffff"},errorCorrectionLevel:"M"})}),Tt(()=>i(),()=>{N(a,(i()/1e3).toFixed(1))}),fn(),dn();var h=Ca(),d=T(h),c=I(T(d),2),p=T(c),_=I(c,2),g=T(_),m=I(d,2),E=T(m);To(E,w=>N(u,w),()=>v(u));var S=I(m,2),A=I(T(S),2),D=T(A),x=I(S,2),C=T(x),y=I(x,2);y.__click=function(...w){Vo?.apply(this,w)},nt((w,k)=>{j(p,w),j(g,`$${k??""} USD`),j(D,v(a)),j(C,n())},[()=>(r(),F(()=>r().toFixed(2))),()=>(s(),F(()=>s().toFixed(2)))]),V(t,h),ze(),l()}cn(["click"]);var Sa=W('<div class="accent-line"></div>'),ka=W('<div class="flex items-center py-2.5 border-t border-white/[0.04]"><div> </div> <div class="flex-1 h-[3px] bg-white/[0.04] rounded-full mx-3 overflow-hidden"><div class="h-full rounded-full transition-[width] duration-1000"></div></div> <div> </div></div>'),Ta=W('<div class="mt-4 text-l5 text-[10px] font-mono break-all text-center max-w-[260px]"> </div>'),Ma=W('<div class="flex flex-col items-center justify-center h-full px-5 py-6 overflow-hidden"><div><div class="text-kaspa-teal text-[11px] font-medium uppercase tracking-[0.1em] text-center">Confirmed</div></div> <div><div class="text-[80px] font-mono font-light text-l1 leading-none tracking-tighter tabular-nums"> <span class="text-[28px] text-l4">s</span></div> <div class="text-l4 text-[11px] uppercase tracking-[0.08em] mt-2">confirmation time</div></div> <div class="mt-4 flex justify-center"><!></div> <div><div class="text-l4 text-[11px] uppercase tracking-[0.08em] mb-1">Received</div> <div class="text-[32px] font-mono font-light text-l1 leading-none tracking-tight tabular-nums"> <span class="text-kaspa-teal text-lg">KAS</span></div> <div class="text-l3 text-sm font-mono mt-1"> </div></div> <div><div class="text-l4 text-[11px] uppercase tracking-[0.08em] mb-4">vs. traditional</div> <!></div> <!> <button class="mt-6 w-full max-w-sm py-3.5 rounded-[--radius-md] bg-kaspa-teal text-kaspa-dark font-semibold text-base transition-[transform] duration-150 active:scale-[0.97] shadow-[0_0_30px_rgba(73,234,203,0.15)]">New Transaction</button></div>');function Pa(t,e){Ve(e,!1);const n=()=>lt(Ke,"$currentPayment",i),r=()=>lt(ke,"$elapsedMs",i),[i,s]=$e(),o=G(),l=G(),a=G(),u=G();let f=G(!1),h=G(!1);const d=600;gr(()=>{requestAnimationFrame(()=>{N(f,!0),setTimeout(()=>{N(h,!0)},500)})}),Tt(()=>(n(),r()),()=>{N(o,n()?.confirmationMs??r())}),Tt(()=>v(o),()=>{N(l,(v(o)/1e3).toFixed(1))}),Tt(()=>v(o),()=>{N(a,v(o)/1e3)}),Tt(()=>v(a),()=>{N(u,[{name:"Kaspa",time:v(a),display:`${v(a).toFixed(1)}s`,accent:!0},{name:"Solana",time:12,display:"~12s",accent:!1},{name:"Ethereum",time:180,display:"~3m",accent:!1},{name:"Bitcoin",time:600,display:"~10m",accent:!1}])}),fn(),dn();var c=Ma(),p=T(c);let _;var g=I(p,2);let m;var E=T(g),S=T(E),A=I(g,2),D=T(A);{var x=J=>{var K=Sa();V(J,K)};dt(D,J=>{v(f)&&J(x)})}var C=I(A,2);let y;var w=I(T(C),2),k=T(w),M=I(w,2),R=T(M),b=I(C,2);let P;var et=I(T(b),2);vr(et,1,()=>v(u),hr,(J,K)=>{var st=ka(),vt=T(st),Bt=T(vt),It=I(vt,2),Nt=T(It),Dt=I(It,2),rt=T(Dt);nt(it=>{qt(vt,1,`w-20 text-[13px] shrink-0 ${v(K),F(()=>v(K).accent?"text-kaspa-teal font-medium":"text-l3")??""}`),j(Bt,(v(K),F(()=>v(K).name))),So(Nt,`
              width: ${it??""}%;
              background: ${v(K),F(()=>v(K).accent?"#49eacb":"rgba(255,255,255,0.12)")??""};
            `),qt(Dt,1,`w-12 text-right text-[13px] font-mono tabular-nums shrink-0 ${v(K),F(()=>v(K).accent?"text-kaspa-teal font-medium":"text-l4")??""}`),j(rt,(v(K),F(()=>v(K).display)))},[()=>(v(h),v(K),F(()=>v(h)?Math.max(2,v(K).time/d*100):0))]),V(J,st)});var ft=I(b,2);{var H=J=>{var K=Ta(),st=T(K);nt(vt=>j(st,`TX: ${vt??""}...`),[()=>(n(),F(()=>n().txId.slice(0,20)))]),V(J,K)};dt(ft,J=>{n(),F(()=>n()?.txId)&&J(H)})}var Rt=I(ft,2);Rt.__click=function(...J){zo?.apply(this,J)},nt((J,K)=>{_=qt(p,1,"transition-[opacity] duration-300",null,_,{"opacity-100":v(f),"opacity-0":!v(f)}),m=qt(g,1,"mt-3 text-center transition-[transform,opacity] duration-500",null,m,{"opacity-100":v(f),"opacity-0":!v(f),"scale-100":v(f),"scale-95":!v(f)}),j(S,v(l)),y=qt(C,1,"mt-6 text-center transition-[opacity] duration-500 delay-200",null,y,{"opacity-100":v(f),"opacity-0":!v(f)}),j(k,`${J??""} `),j(R,`$${K??""} USD`),P=qt(b,1,"w-full max-w-sm mt-8 transition-[opacity] duration-500 delay-500",null,P,{"opacity-100":v(h),"opacity-0":!v(h)})},[()=>(n(),F(()=>n()?.amountKAS.toFixed(2))),()=>(n(),F(()=>n()?.amountUSD.toFixed(2)))]),V(t,c),ze(),s()}cn(["click"]);var Ra=W('<div class="flex flex-col items-center justify-center h-full text-l5 gap-3"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <span class="text-sm">No transactions yet</span></div>'),Ba=W('<span class="text-kaspa-teal text-xs font-mono tabular-nums"> </span>'),Ia=W('<div class="py-3 border-b border-white/[0.04]"><div class="flex items-center justify-between"><div><span class="text-l1 font-mono font-medium text-sm tabular-nums"> </span> <span class="text-l4 text-xs ml-2"> </span></div> <div class="text-right"><!></div></div> <div class="flex items-center justify-between mt-1"><span class="text-l5 text-[10px] font-mono"> </span> <span class="text-l5 text-[10px]"> </span></div></div>'),Na=W('<div class="px-5 py-4"><button class="w-full py-2.5 text-sm text-l4 hover:text-danger transition-[color] duration-150 rounded-[--radius-sm] hover:bg-danger/5">Clear History</button></div>'),Da=W(`<div class="flex flex-col h-full"><div class="flex items-center justify-between px-5 pt-5 pb-4"><h2 class="text-l1 font-medium text-sm">Transaction History</h2> <button class="text-l4 hover:text-l2 transition-[color] duration-150 p-2.5" aria-label="Close"><svg class="w-[18px] h-[18px]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="mx-5 mb-4 p-4 glass rounded-[--radius-md]"><div class="text-l4 text-[10px] uppercase tracking-[0.08em] mb-2 font-medium">Today's Total</div> <div class="flex items-baseline gap-2"><span class="text-[28px] font-light text-l1 font-mono tabular-nums leading-none"> </span> <span class="text-kaspa-teal text-sm font-medium">KAS</span> <span class="text-l4 text-sm font-mono ml-auto"> </span></div> <div class="text-l4 text-[11px] mt-2"> </div></div> <div class="flex-1 overflow-y-auto px-5"><!></div> <!></div>`);function La(t,e){Ve(e,!1);const n=()=>lt(Se,"$payments",s),r=()=>lt(Oo,"$sessionTotal",s),i=()=>lt(wr,"$kasPrice",s),[s,o]=$e(),l=G(),a=G();let u=$i(e,"onClose",8);function f(b){return new Date(b).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function h(){Se.set([])}Tt(()=>n(),()=>{N(l,[...n()].reverse())}),Tt(()=>(r(),i()),()=>{N(a,Qi(r(),i()))}),fn(),dn();var d=Da(),c=T(d),p=I(T(c),2);p.__click=function(...b){u()?.apply(this,b)};var _=I(c,2),g=I(T(_),2),m=T(g),E=T(m),S=I(m,4),A=T(S),D=I(g,2),x=T(D),C=I(_,2),y=T(C);{var w=b=>{var P=Ra();V(b,P)},k=b=>{var P=go(),et=$n(P);vr(et,1,()=>v(l),hr,(ft,H)=>{var Rt=Ia(),J=T(Rt),K=T(J),st=T(K),vt=T(st),Bt=I(st,2),It=T(Bt),Nt=I(K,2),Dt=T(Nt);{var rt=zt=>{var Lt=Ba(),Re=T(Lt);nt(Be=>j(Re,`${Be??""}s`),[()=>(v(H),F(()=>(v(H).confirmationMs/1e3).toFixed(1)))]),V(zt,Lt)};dt(Dt,zt=>{v(H),F(()=>v(H).confirmationMs)&&zt(rt)})}var it=I(J,2),pt=T(it),te=T(pt),hn=I(pt,2),Ge=T(hn);nt((zt,Lt,Re,Be)=>{j(vt,`${zt??""} KAS`),j(It,`$${Lt??""}`),j(te,Re),j(Ge,Be)},[()=>(v(H),F(()=>v(H).amountKAS.toFixed(2))),()=>(v(H),F(()=>v(H).amountUSD.toFixed(2))),()=>(v(H),F(()=>v(H).txId?v(H).txId.slice(0,16)+"...":"pending")),()=>(v(H),F(()=>v(H).confirmedAt?f(v(H).confirmedAt):""))]),V(ft,Rt)}),V(b,P)};dt(y,b=>{v(l),F(()=>v(l).length===0)?b(w):b(k,!1)})}var M=I(C,2);{var R=b=>{var P=Na(),et=T(P);et.__click=h,V(b,P)};dt(M,b=>{v(l),F(()=>v(l).length>0)&&b(R)})}nt((b,P)=>{j(E,b),j(A,`$${P??""}`),j(x,`${v(l),F(()=>v(l).length)??""} transaction${v(l),F(()=>v(l).length!==1?"s":"")??""}`)},[()=>(r(),F(()=>r().toFixed(2))),()=>(v(a),F(()=>v(a).toFixed(2)))]),V(t,d),ze(),o()}cn(["click"]);var Fa=W("<div><!></div>"),qa=W('<div class="w-full h-full bg-kaspa-dark flex items-center justify-center overflow-hidden relative"><div class="absolute inset-0 overflow-hidden pointer-events-none"><div class="blob w-[300px] h-[300px] -top-[80px] -right-[60px] opacity-[0.25]" style="background: rgba(73, 234, 203, 0.4); animation: blob-drift-1 18s ease-in-out infinite;"></div> <div class="blob w-[250px] h-[250px] top-[40%] -left-[80px] opacity-[0.15]" style="background: rgba(56, 189, 248, 0.4); animation: blob-drift-2 22s ease-in-out infinite;"></div> <div class="blob w-[200px] h-[200px] bottom-[10%] right-[10%] opacity-[0.12]" style="background: rgba(73, 234, 203, 0.3); animation: blob-drift-3 25s ease-in-out infinite;"></div></div> <main class="w-full max-w-md h-full max-h-[900px] flex flex-col relative z-10"><!> <!></main></div>');function Ua(t){const e=()=>lt(Ue,"$state",n),[n,r]=$e();let i=G(!1);var s=qa(),o=I(T(s),2),l=T(o);{var a=c=>{Zo(c,{onShowHistory:()=>N(i,!0)})},u=c=>{Aa(c,{})},f=c=>{Pa(c,{})};dt(l,c=>{e()==="idle"?c(a):e()==="waiting"?c(u,1):e()==="confirmed"&&c(f,2)})}var h=I(l,2);{var d=c=>{var p=Fa();let _;var g=T(p);La(g,{onClose:()=>N(i,!1)}),nt(()=>_=qt(p,1,"absolute inset-0 z-50 bg-kaspa-dark/90 backdrop-blur-sm transition-[opacity] duration-200",null,_,{"opacity-100":v(i)})),V(c,p)};dt(h,c=>{v(i)&&c(d)})}V(t,s),r()}_o(Ua,{target:document.getElementById("app")});
