(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const jn=!1;var ai=Array.isArray,os=Array.prototype.indexOf,be=Array.prototype.includes,ln=Array.from,li=Object.defineProperty,we=Object.getOwnPropertyDescriptor,as=Object.getOwnPropertyDescriptors,ls=Object.prototype,us=Array.prototype,ui=Object.getPrototypeOf,xr=Object.isExtensible;const Xt=()=>{};function fs(t){return t()}function nn(t){for(var e=0;e<t.length;e++)t[e]()}function fi(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const nt=2,rn=4,Ve=8,ci=1<<24,Ht=16,Tt=32,ce=64,rr=128,bt=512,Q=1024,rt=2048,xt=4096,pt=8192,jt=16384,ir=32768,ye=65536,Er=1<<17,di=1<<18,Te=1<<19,hi=1<<20,Kt=1<<25,ue=32768,Vn=1<<21,sr=1<<22,Zt=1<<23,oe=Symbol("$state"),cs=Symbol("legacy props"),_e=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ds(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function hs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function vs(t,e,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ps(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _s(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ms(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ws(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function bs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ys(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function xs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Es(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Cs=1,ks=2,vi=4,As=8,Ss=16,Ts=2,Ms=4,Ps=8,Rs=1,Bs=2,et=Symbol();function Is(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function pi(t){return t===this.v}function gi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function _i(t){return!gi(t,this.v)}let Me=!1,Ns=!1;function Ds(){Me=!0}let z=null;function xe(t){z=t}function ze(t,e=!1,n){z={p:z,i:!1,c:null,e:null,s:t,x:null,l:Me&&!e?{s:null,u:null,$:[]}:null}}function He(t){var e=z,n=e.e;if(n!==null){e.e=null;for(var r of n)Di(r)}return e.i=!0,z=e.p,{}}function Ye(){return!Me||z!==null&&z.l===null}let re=[];function mi(){var t=re;re=[],nn(t)}function Vt(t){if(re.length===0&&!qe){var e=re;queueMicrotask(()=>{e===re&&mi()})}re.push(t)}function Ls(){for(;re.length>0;)mi()}function wi(t){var e=O;if(e===null)return q.f|=Zt,t;if((e.f&ir)===0){if((e.f&rr)===0)throw t;e.b.error(t)}else Ee(t,e)}function Ee(t,e){for(;e!==null;){if((e.f&rr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Fs=-7169;function Y(t,e){t.f=t.f&Fs|e}function or(t){(t.f&bt)!==0||t.deps===null?Y(t,Q):Y(t,xt)}function bi(t){if(t!==null)for(const e of t)(e.f&nt)===0||(e.f&ue)===0||(e.f^=ue,bi(e.deps))}function yi(t,e,n){(t.f&rt)!==0?e.add(t):(t.f&xt)!==0&&n.add(t),bi(t.deps),Y(t,Q)}const Qe=new Set;let K=null,zn=null,kt=null,at=[],un=null,Hn=!1,qe=!1;class te{committed=!1;current=new Map;previous=new Map;#e=new Set;#a=new Set;#t=0;#s=0;#o=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#s>0}skip_effect(e){this.#i.has(e)||this.#i.set(e,{d:[],m:[]})}unskip_effect(e){var n=this.#i.get(e);if(n){this.#i.delete(e);for(var r of n.d)Y(r,rt),At(r);for(r of n.m)Y(r,xt),At(r)}}process(e){at=[],this.apply();var n=[],r=[];for(const i of e)this.#u(i,n,r);if(this.is_deferred()){this.#f(r),this.#f(n);for(const[i,s]of this.#i)ki(i,s)}else{for(const i of this.#e)i();this.#e.clear(),this.#t===0&&this.#c(),zn=this,K=null,Cr(r),Cr(n),zn=null,this.#o?.resolve()}kt=null}#u(e,n,r){e.f^=Q;for(var i=e.first,s=null;i!==null;){var o=i.f,l=(o&(Tt|ce))!==0,a=l&&(o&Q)!==0,u=a||(o&pt)!==0||this.#i.has(i);if(!u&&i.fn!==null){l?i.f^=Q:s!==null&&(o&(rn|Ve|ci))!==0?s.b.defer_effect(i):(o&rn)!==0?n.push(i):Pe(i)&&((o&Ht)!==0&&this.#n.add(i),ke(i));var f=i.first;if(f!==null){i=f;continue}}var v=i.parent;for(i=i.next;i===null&&v!==null;)v===s&&(s=null),i=v.next,v=v.parent}}#f(e){for(var n=0;n<e.length;n+=1)yi(e[n],this.#r,this.#n)}capture(e,n){n!==et&&!this.previous.has(e)&&this.previous.set(e,n),(e.f&Zt)===0&&(this.current.set(e,e.v),kt?.set(e,e.v))}activate(){K=this,this.apply()}deactivate(){K===this&&(K=null,kt=null)}flush(){if(this.activate(),at.length>0){if(xi(),K!==null&&K!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#a)e(this);this.#a.clear()}#c(){if(Qe.size>1){this.previous.clear();var e=kt,n=!0;for(const i of Qe){if(i===this){n=!1;continue}const s=[];for(const[l,a]of this.current){if(i.current.has(l))if(n&&a!==i.current.get(l))i.current.set(l,a);else continue;s.push(l)}if(s.length===0)continue;const o=[...i.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var r=at;at=[];const l=new Set,a=new Map;for(const u of s)Ei(u,o,l,a);if(at.length>0){K=i,i.apply();for(const u of at)i.#u(u,[],[]);i.deactivate()}at=r}}K=null,kt=e}this.committed=!0,Qe.delete(this)}increment(e){this.#t+=1,e&&(this.#s+=1)}decrement(e){this.#t-=1,e&&(this.#s-=1),!this.#l&&(this.#l=!0,Vt(()=>{this.#l=!1,this.is_deferred()?at.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#r)this.#n.delete(e),Y(e,rt),At(e);for(const e of this.#n)Y(e,xt),At(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#a.add(e)}settled(){return(this.#o??=fi()).promise}static ensure(){if(K===null){const e=K=new te;Qe.add(K),qe||Vt(()=>{K===e&&e.flush()})}return K}apply(){}}function qs(t){var e=qe;qe=!0;try{for(var n;;){if(Ls(),at.length===0&&(K?.flush(),at.length===0))return un=null,n;xi()}}finally{qe=e}}function xi(){Hn=!0;var t=null;try{for(var e=0;at.length>0;){var n=te.ensure();if(e++>1e3){var r,i;Us()}n.process(at),ee.clear()}}finally{at=[],Hn=!1,un=null}}function Us(){try{ms()}catch(t){Ee(t,un)}}let Ut=null;function Cr(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(jt|pt))===0&&Pe(r)&&(Ut=new Set,ke(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?qi(r):r.fn=null),Ut?.size>0)){ee.clear();for(const i of Ut){if((i.f&(jt|pt))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)Ut.has(o)&&(Ut.delete(o),s.push(o)),o=o.parent;for(let l=s.length-1;l>=0;l--){const a=s[l];(a.f&(jt|pt))===0&&ke(a)}}Ut.clear()}}Ut=null}}function Ei(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&nt)!==0?Ei(i,e,n,r):(s&(sr|Ht))!==0&&(s&rt)===0&&Ci(i,e,r)&&(Y(i,rt),At(i))}}function Ci(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(be.call(e,i))return!0;if((i.f&nt)!==0&&Ci(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function At(t){for(var e=un=t;e.parent!==null;){e=e.parent;var n=e.f;if(Hn&&e===O&&(n&Ht)!==0&&(n&di)===0)return;if((n&(ce|Tt))!==0){if((n&Q)===0)return;e.f^=Q}}at.push(e)}function ki(t,e){if(!((t.f&Tt)!==0&&(t.f&Q)!==0)){(t.f&rt)!==0?e.d.push(t):(t.f&xt)!==0&&e.m.push(t),Y(t,Q);for(var n=t.first;n!==null;)ki(n,e),n=n.next}}function Os(t){let e=0,n=fe(0),r;return()=>{fr()&&(h(n),Je(()=>(e===0&&(r=N(()=>t(()=>Ue(n)))),e+=1,()=>{Vt(()=>{e-=1,e===0&&(r?.(),r=void 0,Ue(n))})})))}}var Ks=ye|Te|rr;function js(t,e,n){new Vs(t,e,n)}class Vs{parent;is_pending=!1;#e;#a=null;#t;#s;#o;#r=null;#n=null;#i=null;#l=null;#u=null;#f=0;#c=0;#v=!1;#h=!1;#p=new Set;#g=new Set;#d=null;#y=Os(()=>(this.#d=fe(this.#f),()=>{this.#d=null}));constructor(e,n,r){this.#e=e,this.#t=n,this.#s=r,this.parent=O.b,this.is_pending=!!this.#t.pending,this.#o=dr(()=>{O.b=this;{var i=this.#w();try{this.#r=wt(()=>r(i))}catch(s){this.error(s)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#u?.remove()}},Ks)}#x(){try{this.#r=wt(()=>this.#s(this.#e))}catch(e){this.error(e)}}#E(){const e=this.#t.pending;e&&(this.#n=wt(()=>e(this.#e)),Vt(()=>{var n=this.#w();this.#r=this.#_(()=>(te.ensure(),wt(()=>this.#s(n)))),this.#c>0?this.#m():(ae(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#w(){var e=this.#e;return this.is_pending&&(this.#u=zt(),this.#e.before(this.#u),e=this.#u),e}defer_effect(e){yi(e,this.#p,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#_(e){var n=O,r=q,i=z;Nt(this.#o),Et(this.#o),xe(this.#o.ctx);try{return e()}catch(s){return wi(s),null}finally{Nt(n),Et(r),xe(i)}}#m(){const e=this.#t.pending;this.#r!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Ki(this.#r,this.#l)),this.#n===null&&(this.#n=wt(()=>e(this.#e)))}#b(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(e);return}if(this.#c+=e,this.#c===0){this.is_pending=!1;for(const n of this.#p)Y(n,rt),At(n);for(const n of this.#g)Y(n,xt),At(n);this.#p.clear(),this.#g.clear(),this.#n&&ae(this.#n,()=>{this.#n=null}),this.#l&&(this.#e.before(this.#l),this.#l=null)}}update_pending_count(e){this.#b(e),this.#f+=e,!(!this.#d||this.#v)&&(this.#v=!0,Vt(()=>{this.#v=!1,this.#d&&Ce(this.#d,this.#f)}))}get_effect_pending(){return this.#y(),h(this.#d)}error(e){var n=this.#t.onerror;let r=this.#t.failed;if(this.#h||!n&&!r)throw e;this.#r&&(ft(this.#r),this.#r=null),this.#n&&(ft(this.#n),this.#n=null),this.#i&&(ft(this.#i),this.#i=null);var i=!1,s=!1;const o=()=>{if(i){Is();return}i=!0,s&&Es(),te.ensure(),this.#f=0,this.#i!==null&&ae(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#_(()=>(this.#h=!1,wt(()=>this.#s(this.#e)))),this.#c>0?this.#m():this.is_pending=!1};Vt(()=>{try{s=!0,n?.(e,o),s=!1}catch(l){Ee(l,this.#o&&this.#o.parent)}r&&(this.#i=this.#_(()=>{te.ensure(),this.#h=!0;try{return wt(()=>{r(this.#e,()=>e,()=>o)})}catch(l){return Ee(l,this.#o.parent),null}finally{this.#h=!1}}))})}}function zs(t,e,n,r){const i=Ye()?ar:lr;var s=t.filter(d=>!d.settled);if(n.length===0&&s.length===0){r(e.map(i));return}var o=K,l=O,a=Hs(),u=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(d=>d.promise)):null;function f(d){a();try{r(d)}catch(c){(l.f&jt)===0&&Ee(c,l)}o?.deactivate(),Yn()}if(n.length===0){u.then(()=>f(e.map(i)));return}function v(){a(),Promise.all(n.map(d=>Ys(d))).then(d=>f([...e.map(i),...d])).catch(d=>Ee(d,l))}u?u.then(v):v()}function Hs(){var t=O,e=q,n=z,r=K;return function(s=!0){Nt(t),Et(e),xe(n),s&&r?.activate()}}function Yn(){Nt(null),Et(null),xe(null)}function ar(t){var e=nt|rt,n=q!==null&&(q.f&nt)!==0?q:null;return O!==null&&(O.f|=Te),{ctx:z,deps:null,effects:null,equals:pi,f:e,fn:t,reactions:null,rv:0,v:et,wv:0,parent:n??O,ac:null}}function Ys(t,e,n){let r=O;r===null&&hs();var i=r.b,s=void 0,o=fe(et),l=!q,a=new Map;return ro(()=>{var u=fi();s=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{f===K&&f.committed&&f.deactivate(),Yn()})}catch(c){u.reject(c),Yn()}var f=K;if(l){var v=i.is_rendered();i.update_pending_count(1),f.increment(v),a.get(f)?.reject(_e),a.delete(f),a.set(f,u)}const d=(c,p=void 0)=>{if(f.activate(),p)p!==_e&&(o.f|=Zt,Ce(o,p));else{(o.f&Zt)!==0&&(o.f^=Zt),Ce(o,c);for(const[_,g]of a){if(a.delete(_),_===f)break;g.reject(_e)}}l&&(i.update_pending_count(-1),f.decrement(v))};u.promise.then(d,c=>d(null,c||"unknown"))}),cr(()=>{for(const u of a.values())u.reject(_e)}),new Promise(u=>{function f(v){function d(){v===s?u(o):f(s)}v.then(d,d)}f(s)})}function lr(t){const e=ar(t);return e.equals=_i,e}function Ai(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)ft(e[n])}}function $s(t){for(var e=t.parent;e!==null;){if((e.f&nt)===0)return(e.f&jt)===0?e:null;e=e.parent}return null}function ur(t){var e,n=O;Nt($s(t));try{t.f&=~ue,Ai(t),e=Hi(t)}finally{Nt(n)}return e}function Si(t){var e=ur(t);if(!t.equals(e)&&(t.wv=Vi(),(!K?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){Y(t,Q);return}ne||(kt!==null?(fr()||K?.is_fork)&&kt.set(t,e):or(t))}let $n=new Set;const ee=new Map;let Ti=!1;function fe(t,e){var n={f:0,v:t,reactions:null,equals:pi,rv:0,wv:0};return n}function $t(t,e){const n=fe(t);return oo(n),n}function J(t,e=!1,n=!0){const r=fe(t);return e||(r.equals=_i),Me&&n&&z!==null&&z.l!==null&&(z.l.s??=[]).push(r),r}function L(t,e,n=!1){q!==null&&(!St||(q.f&Er)!==0)&&Ye()&&(q.f&(nt|Ht|sr|Er))!==0&&(yt===null||!be.call(yt,t))&&xs();let r=n?me(e):e;return Ce(t,r)}function Ce(t,e){if(!t.equals(e)){var n=t.v;ne?ee.set(t,e):ee.set(t,n),t.v=e;var r=te.ensure();if(r.capture(t,n),(t.f&nt)!==0){const i=t;(t.f&rt)!==0&&ur(i),or(i)}t.wv=Vi(),Mi(t,rt),Ye()&&O!==null&&(O.f&Q)!==0&&(O.f&(Tt|ce))===0&&(mt===null?ao([t]):mt.push(t)),!r.is_fork&&$n.size>0&&!Ti&&Js()}return e}function Js(){Ti=!1;for(const t of $n)(t.f&Q)!==0&&Y(t,xt),Pe(t)&&ke(t);$n.clear()}function Ue(t){L(t,t.v+1)}function Mi(t,e){var n=t.reactions;if(n!==null)for(var r=Ye(),i=n.length,s=0;s<i;s++){var o=n[s],l=o.f;if(!(!r&&o===O)){var a=(l&rt)===0;if(a&&Y(o,e),(l&nt)!==0){var u=o;kt?.delete(u),(l&ue)===0&&(l&bt&&(o.f|=ue),Mi(u,xt))}else a&&((l&Ht)!==0&&Ut!==null&&Ut.add(o),At(o))}}}function me(t){if(typeof t!="object"||t===null||oe in t)return t;const e=ui(t);if(e!==ls&&e!==us)return t;var n=new Map,r=ai(t),i=$t(0),s=le,o=l=>{if(le===s)return l();var a=q,u=le;Et(null),Sr(s);var f=l();return Et(a),Sr(u),f};return r&&n.set("length",$t(t.length)),new Proxy(t,{defineProperty(l,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&bs();var f=n.get(a);return f===void 0?o(()=>{var v=$t(u.value);return n.set(a,v),v}):L(f,u.value,!0),!0},deleteProperty(l,a){var u=n.get(a);if(u===void 0){if(a in l){const f=o(()=>$t(et));n.set(a,f),Ue(i)}}else L(u,et),Ue(i);return!0},get(l,a,u){if(a===oe)return t;var f=n.get(a),v=a in l;if(f===void 0&&(!v||we(l,a)?.writable)&&(f=o(()=>{var c=me(v?l[a]:et),p=$t(c);return p}),n.set(a,f)),f!==void 0){var d=h(f);return d===et?void 0:d}return Reflect.get(l,a,u)},getOwnPropertyDescriptor(l,a){var u=Reflect.getOwnPropertyDescriptor(l,a);if(u&&"value"in u){var f=n.get(a);f&&(u.value=h(f))}else if(u===void 0){var v=n.get(a),d=v?.v;if(v!==void 0&&d!==et)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,a){if(a===oe)return!0;var u=n.get(a),f=u!==void 0&&u.v!==et||Reflect.has(l,a);if(u!==void 0||O!==null&&(!f||we(l,a)?.writable)){u===void 0&&(u=o(()=>{var d=f?me(l[a]):et,c=$t(d);return c}),n.set(a,u));var v=h(u);if(v===et)return!1}return f},set(l,a,u,f){var v=n.get(a),d=a in l;if(r&&a==="length")for(var c=u;c<v.v;c+=1){var p=n.get(c+"");p!==void 0?L(p,et):c in l&&(p=o(()=>$t(et)),n.set(c+"",p))}if(v===void 0)(!d||we(l,a)?.writable)&&(v=o(()=>$t(void 0)),L(v,me(u)),n.set(a,v));else{d=v.v!==et;var _=o(()=>me(u));L(v,_)}var g=Reflect.getOwnPropertyDescriptor(l,a);if(g?.set&&g.set.call(f,u),!d){if(r&&typeof a=="string"){var m=n.get("length"),y=Number(a);Number.isInteger(y)&&y>=m.v&&L(m,y+1)}Ue(i)}return!0},ownKeys(l){h(i);var a=Reflect.ownKeys(l).filter(v=>{var d=n.get(v);return d===void 0||d.v!==et});for(var[u,f]of n)f.v!==et&&!(u in l)&&a.push(u);return a},setPrototypeOf(){ys()}})}var Jn,Pi,Ri,Bi;function Gs(){if(Jn===void 0){Jn=window,Pi=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ri=we(e,"firstChild").get,Bi=we(e,"nextSibling").get,xr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),xr(n)&&(n.__t=void 0)}}function zt(t=""){return document.createTextNode(t)}function sn(t){return Ri.call(t)}function $e(t){return Bi.call(t)}function M(t,e){return sn(t)}function Gn(t,e=!1){{var n=sn(t);return n instanceof Comment&&n.data===""?$e(n):n}}function I(t,e=1,n=!1){let r=t;for(;e--;)r=$e(r);return r}function Qs(t){t.textContent=""}function Ii(){return!1}let kr=!1;function Ws(){kr||(kr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function fn(t){var e=q,n=O;Et(null),Nt(null);try{return t()}finally{Et(e),Nt(n)}}function Xs(t,e,n,r=n){t.addEventListener(e,()=>fn(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),Ws()}function Ni(t){O===null&&(q===null&&_s(),gs()),ne&&ps()}function Zs(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Dt(t,e,n){var r=O;r!==null&&(r.f&pt)!==0&&(t|=pt);var i={ctx:z,deps:null,nodes:null,f:t|rt|bt,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ke(i),i.f|=ir}catch(l){throw ft(i),l}else e!==null&&At(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Te)===0&&(s=s.first,(t&Ht)!==0&&(t&ye)!==0&&s!==null&&(s.f|=ye)),s!==null&&(s.parent=r,r!==null&&Zs(s,r),q!==null&&(q.f&nt)!==0&&(t&ce)===0)){var o=q;(o.effects??=[]).push(s)}return i}function fr(){return q!==null&&!St}function cr(t){const e=Dt(Ve,null,!1);return Y(e,Q),e.teardown=t,e}function Qn(t){Ni();var e=O.f,n=!q&&(e&Tt)!==0&&(e&ir)===0;if(n){var r=z;(r.e??=[]).push(t)}else return Di(t)}function Di(t){return Dt(rn|hi,t,!1)}function to(t){return Ni(),Dt(Ve|hi,t,!0)}function eo(t){te.ensure();const e=Dt(ce|Te,t,!0);return(n={})=>new Promise(r=>{n.outro?ae(e,()=>{ft(e),r(void 0)}):(ft(e),r(void 0))})}function no(t){return Dt(rn,t,!1)}function It(t,e){var n=z,r={effect:null,ran:!1,deps:t};n.l.$.push(r),r.effect=Je(()=>{t(),!r.ran&&(r.ran=!0,N(e))})}function cn(){var t=z;Je(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&Q)!==0&&n.deps!==null&&Y(n,xt),Pe(n)&&ke(n),e.ran=!1}})}function ro(t){return Dt(sr|Te,t,!0)}function Je(t,e=0){return Dt(Ve|e,t,!0)}function X(t,e=[],n=[],r=[]){zs(r,e,n,i=>{Dt(Ve,()=>t(...i.map(h)),!0)})}function dr(t,e=0){var n=Dt(Ht|e,t,!0);return n}function wt(t){return Dt(Tt|Te,t,!0)}function Li(t){var e=t.teardown;if(e!==null){const n=ne,r=q;Ar(!0),Et(null);try{e.call(null)}finally{Ar(n),Et(r)}}}function Fi(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&fn(()=>{i.abort(_e)});var r=n.next;(n.f&ce)!==0?n.parent=null:ft(n,e),n=r}}function io(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Tt)===0&&ft(e),e=n}}function ft(t,e=!0){var n=!1;(e||(t.f&di)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(so(t.nodes.start,t.nodes.end),n=!0),Fi(t,e&&!n),on(t,0),Y(t,jt);var r=t.nodes&&t.nodes.t;if(r!==null)for(const s of r)s.stop();Li(t);var i=t.parent;i!==null&&i.first!==null&&qi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function so(t,e){for(;t!==null;){var n=t===e?null:$e(t);t.remove(),t=n}}function qi(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function ae(t,e,n=!0){var r=[];Ui(t,r,!0);var i=()=>{n&&ft(t),e&&e()},s=r.length;if(s>0){var o=()=>--s||i();for(var l of r)l.out(o)}else i()}function Ui(t,e,n){if((t.f&pt)===0){t.f^=pt;var r=t.nodes&&t.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&e.push(l);for(var i=t.first;i!==null;){var s=i.next,o=(i.f&ye)!==0||(i.f&Tt)!==0&&(t.f&Ht)!==0;Ui(i,e,o?n:!1),i=s}}}function hr(t){Oi(t,!0)}function Oi(t,e){if((t.f&pt)!==0){t.f^=pt,(t.f&Q)===0&&(Y(t,rt),At(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&ye)!==0||(n.f&Tt)!==0;Oi(n,i?e:!1),n=r}var s=t.nodes&&t.nodes.t;if(s!==null)for(const o of s)(o.is_global||e)&&o.in()}}function Ki(t,e){if(t.nodes)for(var n=t.nodes.start,r=t.nodes.end;n!==null;){var i=n===r?null:$e(n);e.append(n),n=i}}let tn=!1,ne=!1;function Ar(t){ne=t}let q=null,St=!1;function Et(t){q=t}let O=null;function Nt(t){O=t}let yt=null;function oo(t){q!==null&&(yt===null?yt=[t]:yt.push(t))}let lt=null,ht=0,mt=null;function ao(t){mt=t}let ji=1,ie=0,le=ie;function Sr(t){le=t}function Vi(){return++ji}function Pe(t){var e=t.f;if((e&rt)!==0)return!0;if(e&nt&&(t.f&=~ue),(e&xt)!==0){for(var n=t.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(Pe(s)&&Si(s),s.wv>t.wv)return!0}(e&bt)!==0&&kt===null&&Y(t,Q)}return!1}function zi(t,e,n=!0){var r=t.reactions;if(r!==null&&!(yt!==null&&be.call(yt,t)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&nt)!==0?zi(s,e,!1):e===s&&(n?Y(s,rt):(s.f&Q)!==0&&Y(s,xt),At(s))}}function Hi(t){var e=lt,n=ht,r=mt,i=q,s=yt,o=z,l=St,a=le,u=t.f;lt=null,ht=0,mt=null,q=(u&(Tt|ce))===0?t:null,yt=null,xe(t.ctx),St=!1,le=++ie,t.ac!==null&&(fn(()=>{t.ac.abort(_e)}),t.ac=null);try{t.f|=Vn;var f=t.fn,v=f(),d=t.deps,c=K?.is_fork;if(lt!==null){var p;if(c||on(t,ht),d!==null&&ht>0)for(d.length=ht+lt.length,p=0;p<lt.length;p++)d[ht+p]=lt[p];else t.deps=d=lt;if(fr()&&(t.f&bt)!==0)for(p=ht;p<d.length;p++)(d[p].reactions??=[]).push(t)}else!c&&d!==null&&ht<d.length&&(on(t,ht),d.length=ht);if(Ye()&&mt!==null&&!St&&d!==null&&(t.f&(nt|xt|rt))===0)for(p=0;p<mt.length;p++)zi(mt[p],t);if(i!==null&&i!==t){if(ie++,i.deps!==null)for(let _=0;_<n;_+=1)i.deps[_].rv=ie;if(e!==null)for(const _ of e)_.rv=ie;mt!==null&&(r===null?r=mt:r.push(...mt))}return(t.f&Zt)!==0&&(t.f^=Zt),v}catch(_){return wi(_)}finally{t.f^=Vn,lt=e,ht=n,mt=r,q=i,yt=s,xe(o),St=l,le=a}}function lo(t,e){let n=e.reactions;if(n!==null){var r=os.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(e.f&nt)!==0&&(lt===null||!be.call(lt,e))){var s=e;(s.f&bt)!==0&&(s.f^=bt,s.f&=~ue),or(s),Ai(s),on(s,0)}}function on(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)lo(t,n[r])}function ke(t){var e=t.f;if((e&jt)===0){Y(t,Q);var n=O,r=tn;O=t,tn=!0;try{(e&(Ht|ci))!==0?io(t):Fi(t),Li(t);var i=Hi(t);t.teardown=typeof i=="function"?i:null,t.wv=ji;var s;jn&&Ns&&(t.f&rt)!==0&&t.deps}finally{tn=r,O=n}}}async function uo(){await Promise.resolve(),qs()}function h(t){var e=t.f,n=(e&nt)!==0;if(q!==null&&!St){var r=O!==null&&(O.f&jt)!==0;if(!r&&(yt===null||!be.call(yt,t))){var i=q.deps;if((q.f&Vn)!==0)t.rv<ie&&(t.rv=ie,lt===null&&i!==null&&i[ht]===t?ht++:lt===null?lt=[t]:lt.push(t));else{(q.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[q]:be.call(s,q)||s.push(q)}}}if(ne&&ee.has(t))return ee.get(t);if(n){var o=t;if(ne){var l=o.v;return((o.f&Q)===0&&o.reactions!==null||$i(o))&&(l=ur(o)),ee.set(o,l),l}var a=(o.f&bt)===0&&!St&&q!==null&&(tn||(q.f&bt)!==0),u=o.deps===null;Pe(o)&&(a&&(o.f|=bt),Si(o)),a&&!u&&Yi(o)}if(kt?.has(t))return kt.get(t);if((t.f&Zt)!==0)throw t.v;return t.v}function Yi(t){if(t.deps!==null){t.f|=bt;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&nt)!==0&&(e.f&bt)===0&&Yi(e)}}function $i(t){if(t.v===et)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(ee.has(e)||(e.f&nt)!==0&&$i(e))return!0;return!1}function N(t){var e=St;try{return St=!0,t()}finally{St=e}}function fo(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(oe in t)Wn(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&oe in n&&Wn(n)}}}function Wn(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Wn(t[r],e)}catch{}const n=ui(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=as(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}const co=["touchstart","touchmove"];function ho(t){return co.includes(t)}const Ji=new Set,Xn=new Set;function vo(t,e,n,r={}){function i(s){if(r.capture||Le.call(e,s),!s.cancelBubble)return fn(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Vt(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function po(t,e,n,r,i){var s={capture:r,passive:i},o=vo(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&cr(()=>{e.removeEventListener(t,o,s)})}function dn(t){for(var e=0;e<t.length;e++)Ji.add(t[e]);for(var n of Xn)n(t)}let Tr=null;function Le(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;Tr=t;var o=0,l=Tr===t&&t.__root;if(l){var a=i.indexOf(l);if(a!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;a<=u&&(o=a)}if(s=i[o]||t.target,s!==e){li(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=q,v=O;Et(null),Nt(null);try{for(var d,c=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+r];_!=null&&(!s.disabled||t.target===s)&&_.call(s,t)}catch(g){d?c.push(g):d=g}if(t.cancelBubble||p===e||p===null)break;s=p}if(d){for(let g of c)queueMicrotask(()=>{throw g});throw d}}finally{t.__root=e,delete t.currentTarget,Et(f),Nt(v)}}}function go(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function an(t,e){var n=O;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function Z(t,e){var n=(e&Rs)!==0,r=(e&Bs)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=go(s?t:"<!>"+t),n||(i=sn(i)));var o=r||Pi?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=sn(o),a=o.lastChild;an(l,a)}else an(o,o);return o}}function Wt(t=""){{var e=zt(t+"");return an(e,e),e}}function _o(){var t=document.createDocumentFragment(),e=document.createComment(""),n=zt();return t.append(e,n),an(e,n),t}function V(t,e){t!==null&&t.before(e)}function j(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function mo(t,e){return wo(t,e)}const ve=new Map;function wo(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){Gs();var l=new Set,a=v=>{for(var d=0;d<v.length;d++){var c=v[d];if(!l.has(c)){l.add(c);var p=ho(c);e.addEventListener(c,Le,{passive:p});var _=ve.get(c);_===void 0?(document.addEventListener(c,Le,{passive:p}),ve.set(c,1)):ve.set(c,_+1)}}};a(ln(Ji)),Xn.add(a);var u=void 0,f=eo(()=>{var v=n??e.appendChild(zt());return js(v,{pending:()=>{}},d=>{ze({});var c=z;s&&(c.c=s),i&&(r.$$events=i),u=t(d,r)||{},He()}),()=>{for(var d of l){e.removeEventListener(d,Le);var c=ve.get(d);--c===0?(document.removeEventListener(d,Le),ve.delete(d)):ve.set(d,c)}Xn.delete(a),v!==n&&v.parentNode?.removeChild(v)}});return bo.set(u,f),u}let bo=new WeakMap;class yo{anchor;#e=new Map;#a=new Map;#t=new Map;#s=new Set;#o=!0;constructor(e,n=!0){this.anchor=e,this.#o=n}#r=()=>{var e=K;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#a.get(n);if(r)hr(r),this.#s.delete(n);else{var i=this.#t.get(n);i&&(this.#a.set(n,i.effect),this.#t.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const l=this.#t.get(o);l&&(ft(l.effect),this.#t.delete(o))}for(const[s,o]of this.#a){if(s===n||this.#s.has(s))continue;const l=()=>{if(Array.from(this.#e.values()).includes(s)){var u=document.createDocumentFragment();Ki(o,u),u.append(zt()),this.#t.set(s,{effect:o,fragment:u})}else ft(o);this.#s.delete(s),this.#a.delete(s)};this.#o||!r?(this.#s.add(s),ae(o,l,!1)):l()}}};#n=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#t)n.includes(r)||(ft(i.effect),this.#t.delete(r))};ensure(e,n){var r=K,i=Ii();if(n&&!this.#a.has(e)&&!this.#t.has(e))if(i){var s=document.createDocumentFragment(),o=zt();s.append(o),this.#t.set(e,{effect:wt(()=>n(o)),fragment:s})}else this.#a.set(e,wt(()=>n(this.anchor)));if(this.#e.set(r,e),i){for(const[l,a]of this.#a)l===e?r.unskip_effect(a):r.skip_effect(a);for(const[l,a]of this.#t)l===e?r.unskip_effect(a.effect):r.skip_effect(a.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function vt(t,e,n=!1){var r=new yo(t),i=n?ye:0;function s(o,l){r.ensure(o,l)}dr(()=>{var o=!1;e((l,a=0)=>{o=!0,s(a,l)}),o||s(!1,null)},i)}function vr(t,e){return e}function xo(t,e,n){for(var r=[],i=e.length,s,o=e.length,l=0;l<i;l++){let v=e[l];ae(v,()=>{if(s){if(s.pending.delete(v),s.done.add(v),s.pending.size===0){var d=t.outrogroups;Zn(ln(s.done)),d.delete(s),d.size===0&&(t.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=r.length===0&&n!==null;if(a){var u=n,f=u.parentNode;Qs(f),f.append(u),t.items.clear()}Zn(e,!a)}else s={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(s)}function Zn(t,e=!0){for(var n=0;n<t.length;n++)ft(t[n],e)}var Mr;function pr(t,e,n,r,i,s=null){var o=t,l=new Map,a=(e&vi)!==0;if(a){var u=t;o=u.appendChild(zt())}var f=null,v=lr(()=>{var m=n();return ai(m)?m:m==null?[]:ln(m)}),d,c=!0;function p(){g.fallback=f,Eo(g,d,o,e,r),f!==null&&(d.length===0?(f.f&Kt)===0?hr(f):(f.f^=Kt,Fe(f,null,o)):ae(f,()=>{f=null}))}var _=dr(()=>{d=h(v);for(var m=d.length,y=new Set,A=K,k=Ii(),D=0;D<m;D+=1){var b=d[D],C=r(b,D),x=c?null:l.get(C);x?(x.v&&Ce(x.v,b),x.i&&Ce(x.i,D),k&&A.unskip_effect(x.e)):(x=Co(l,c?o:Mr??=zt(),b,C,D,i,e,n),c||(x.e.f|=Kt),l.set(C,x)),y.add(C)}if(m===0&&s&&!f&&(c?f=wt(()=>s(o)):(f=wt(()=>s(Mr??=zt())),f.f|=Kt)),m>y.size&&vs(),!c)if(k){for(const[w,S]of l)y.has(w)||A.skip_effect(S.e);A.oncommit(p),A.ondiscard(()=>{})}else p();h(v)}),g={effect:_,items:l,outrogroups:null,fallback:f};c=!1}function Ne(t){for(;t!==null&&(t.f&Tt)===0;)t=t.next;return t}function Eo(t,e,n,r,i){var s=(r&As)!==0,o=e.length,l=t.items,a=Ne(t.effect.first),u,f=null,v,d=[],c=[],p,_,g,m;if(s)for(m=0;m<o;m+=1)p=e[m],_=i(p,m),g=l.get(_).e,(g.f&Kt)===0&&(g.nodes?.a?.measure(),(v??=new Set).add(g));for(m=0;m<o;m+=1){if(p=e[m],_=i(p,m),g=l.get(_).e,t.outrogroups!==null)for(const S of t.outrogroups)S.pending.delete(g),S.done.delete(g);if((g.f&Kt)!==0)if(g.f^=Kt,g===a)Fe(g,null,n);else{var y=f?f.next:a;g===t.effect.last&&(t.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),Jt(t,f,g),Jt(t,g,y),Fe(g,y,n),f=g,d=[],c=[],a=Ne(f.next);continue}if((g.f&pt)!==0&&(hr(g),s&&(g.nodes?.a?.unfix(),(v??=new Set).delete(g))),g!==a){if(u!==void 0&&u.has(g)){if(d.length<c.length){var A=c[0],k;f=A.prev;var D=d[0],b=d[d.length-1];for(k=0;k<d.length;k+=1)Fe(d[k],A,n);for(k=0;k<c.length;k+=1)u.delete(c[k]);Jt(t,D.prev,b.next),Jt(t,f,D),Jt(t,b,A),a=A,f=b,m-=1,d=[],c=[]}else u.delete(g),Fe(g,a,n),Jt(t,g.prev,g.next),Jt(t,g,f===null?t.effect.first:f.next),Jt(t,f,g),f=g;continue}for(d=[],c=[];a!==null&&a!==g;)(u??=new Set).add(a),c.push(a),a=Ne(a.next);if(a===null)continue}(g.f&Kt)===0&&d.push(g),f=g,a=Ne(g.next)}if(t.outrogroups!==null){for(const S of t.outrogroups)S.pending.size===0&&(Zn(ln(S.done)),t.outrogroups?.delete(S));t.outrogroups.size===0&&(t.outrogroups=null)}if(a!==null||u!==void 0){var C=[];if(u!==void 0)for(g of u)(g.f&pt)===0&&C.push(g);for(;a!==null;)(a.f&pt)===0&&a!==t.fallback&&C.push(a),a=Ne(a.next);var x=C.length;if(x>0){var w=(r&vi)!==0&&o===0?n:null;if(s){for(m=0;m<x;m+=1)C[m].nodes?.a?.measure();for(m=0;m<x;m+=1)C[m].nodes?.a?.fix()}xo(t,C,w)}}s&&Vt(()=>{if(v!==void 0)for(g of v)g.nodes?.a?.apply()})}function Co(t,e,n,r,i,s,o,l){var a=(o&Cs)!==0?(o&Ss)===0?J(n,!1,!1):fe(n):null,u=(o&ks)!==0?fe(i):null;return{v:a,i:u,e:wt(()=>(s(e,a??n,u??i,l),()=>{t.delete(r)}))}}function Fe(t,e,n){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end,s=e&&(e.f&Kt)===0?e.nodes.start:n;r!==null;){var o=$e(r);if(s.before(r),r===i)return;r=o}}function Jt(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}const Pr=[...` 	
\r\fÂ \v\uFEFF`];function ko(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+s;(o===0||Pr.includes(r[o-1]))&&(l===r.length||Pr.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Ao(t,e){return t==null?null:String(t)}function Ot(t,e,n,r,i,s){var o=t.__className;if(o!==n||o===void 0){var l=ko(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&i!==s)for(var a in s){var u=!!s[a];(i==null||u!==!!i[a])&&t.classList.toggle(a,u)}return s}function We(t,e,n,r){var i=t.__style;if(i!==e){var s=Ao(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}function So(t,e,n=e){var r=new WeakSet;Xs(t,"input",async i=>{var s=i?t.defaultValue:t.value;if(s=pn(t)?gn(s):s,n(s),K!==null&&r.add(K),await uo(),s!==(s=e())){var o=t.selectionStart,l=t.selectionEnd,a=t.value.length;if(t.value=s??"",l!==null){var u=t.value.length;o===l&&l===a&&u>a?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=o,t.selectionEnd=Math.min(l,u))}}}),N(e)==null&&t.value&&(n(pn(t)?gn(t.value):t.value),K!==null&&r.add(K)),Je(()=>{var i=e();if(t===document.activeElement){var s=zn??K;if(r.has(s))return}pn(t)&&i===gn(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function pn(t){var e=t.type;return e==="number"||e==="range"}function gn(t){return t===""?null:+t}function Rr(t,e){return t===e||t?.[oe]===e}function To(t={},e,n,r){return no(()=>{var i,s;return Je(()=>{i=s,s=[],N(()=>{t!==n(...s)&&(e(t,...s),i&&Rr(n(...i),t)&&e(null,...i))})}),()=>{Vt(()=>{s&&Rr(n(...s),t)&&e(null,...s)})}}),t}function hn(t=!1){const e=z,n=e.l.u;if(!n)return;let r=()=>fo(e.s);if(t){let i=0,s={};const o=ar(()=>{let l=!1;const a=e.s;for(const u in a)a[u]!==s[u]&&(s[u]=a[u],l=!0);return l&&i++,i});r=()=>h(o)}n.b.length&&to(()=>{Br(e,r),nn(n.b)}),Qn(()=>{const i=N(()=>n.m.map(fs));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Qn(()=>{Br(e,r),nn(n.a)})}function Br(t,e){if(t.l.s)for(const n of t.l.s)h(n);e()}function gr(t,e,n){if(t==null)return e(void 0),n&&n(void 0),Xt;const r=N(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const pe=[];function Mo(t,e){return{subscribe:Mt(t,e).subscribe}}function Mt(t,e=Xt){let n=null;const r=new Set;function i(l){if(gi(t,l)&&(t=l,n)){const a=!pe.length;for(const u of r)u[1](),pe.push(u,t);if(a){for(let u=0;u<pe.length;u+=2)pe[u][0](pe[u+1]);pe.length=0}}}function s(l){i(l(t))}function o(l,a=Xt){const u=[l,a];return r.add(u),r.size===1&&(n=e(i,s)||Xt),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function Po(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Mo(n,(o,l)=>{let a=!1;const u=[];let f=0,v=Xt;const d=()=>{if(f)return;v();const p=e(r?u[0]:u,o,l);s?o(p):v=typeof p=="function"?p:Xt},c=i.map((p,_)=>gr(p,g=>{u[_]=g,f&=~(1<<_),a&&d()},()=>{f|=1<<_}));return a=!0,d(),function(){nn(c),v(),a=!1}})}function en(t){let e;return gr(t,n=>e=n)(),e}let Xe=!1,tr=Symbol();function ut(t,e,n){const r=n[e]??={store:null,source:J(void 0),unsubscribe:Xt};if(r.store!==t&&!(tr in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=Xt;else{var i=!0;r.unsubscribe=gr(t,s=>{i?r.source.v=s:L(r.source,s)}),i=!1}return t&&tr in n?en(t):h(r.source)}function Ge(){const t={};function e(){cr(()=>{for(var n in t)t[n].unsubscribe();li(t,tr,{enumerable:!1,value:!0})})}return[t,e]}function Ro(t){var e=Xe;try{return Xe=!1,[t(),Xe]}finally{Xe=e}}function Gi(t,e,n,r){var i=!Me||(n&Ts)!==0,s=(n&Ps)!==0,o=r,l=!0,a=()=>(l&&(l=!1,o=r),o),u;{var f=oe in t||cs in t;u=we(t,e)?.set??(f&&e in t?y=>t[e]=y:void 0)}var v,d=!1;[v,d]=Ro(()=>t[e]),v===void 0&&r!==void 0&&(v=a(),u&&(i&&ws(),u(v)));var c;if(i?c=()=>{var y=t[e];return y===void 0?a():(l=!0,y)}:c=()=>{var y=t[e];return y!==void 0&&(o=void 0),y===void 0?o:y},i&&(n&Ms)===0)return c;if(u){var p=t.$$legacy;return(function(y,A){return arguments.length>0?((!i||!A||p||d)&&u(A?c():y),y):c()})}var _=!1,g=lr(()=>(_=!1,c()));h(g);var m=O;return(function(y,A){if(arguments.length>0){const k=A?h(g):i&&s?me(y):y;return L(g,k),_=!0,o!==void 0&&(o=k),y}return ne&&_||(m.f&jt)!==0?g.v:h(g)})}function _r(t){z===null&&ds(),Me&&z.l!==null?Bo(z).m.push(t):Qn(()=>{const e=N(t);if(typeof e=="function")return e})}function Bo(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Io="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Io);Ds();const No="https://api.kaspa.org";async function Qi(t){const e=await fetch(`${No}/addresses/${t}/utxos`);if(!e.ok)throw new Error(`UTXO fetch failed: ${e.status}`);const n=await e.json(),r=new Set;for(const i of n)r.add(`${i.outpoint.transactionId}:${i.outpoint.index}`);return r}function Do(t,e){return`kaspa:${t.replace("kaspa:","")}?amount=${e}`}function Lo(t,e,n,r,i=300){let s=!1;const o=async()=>{if(!s){try{const l=await Qi(t);for(const a of l)if(!e.has(a)){const u=a.split(":")[0];n(u),s=!0;return}}catch(l){r?.(l)}s||setTimeout(o,i)}};return o(),{stop:()=>{s=!0}}}let Gt=null,_n=0;const Fo=6e4;async function qo(){const t=Date.now();if(Gt!==null&&t-_n<Fo)return Gt;try{const e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=kaspa&vs_currencies=usd");if(!e.ok)throw new Error("Price fetch failed");if(Gt=(await e.json()).kaspa?.usd??null,_n=t,Gt!==null)return Gt}catch{}try{const e=await fetch("https://api.kaspa.org/info/price");if(e.ok)return Gt=(await e.json()).price??.1,_n=t,Gt}catch{}return Gt??.1}function Wi(t,e){return t*e}function Uo(t,e){return e<=0?0:t/e}const Oe=Mt("idle"),mr=Mt(0),wr=Mt(0),br=Mt(.1),Ke=Mt(localStorage.getItem("kaspa-pos-address")||""),Ae=Mt(JSON.parse(localStorage.getItem("kaspa-pos-history")||"[]")),je=Mt(null),mn=Mt(0),Se=Mt(0),er=Mt(null);Ke.subscribe(t=>{t&&localStorage.setItem("kaspa-pos-address",t)});Ae.subscribe(t=>{localStorage.setItem("kaspa-pos-history",JSON.stringify(t.slice(-50)))});const Oo=Po(Ae,t=>{const e=new Date().setHours(0,0,0,0);return t.filter(n=>n.confirmedAt&&n.confirmedAt>=e).reduce((n,r)=>n+r.amountKAS,0)});let nr=null,se=null;async function Ko(){try{const t=await qo();br.set(t)}catch{}}async function jo(t,e){const n=en(Ke);if(!n){er.set("Set your Kaspa address first");return}er.set(null),mr.set(t),wr.set(e);let r;try{r=await Qi(n)}catch{r=new Set}const i={id:crypto.randomUUID(),amountKAS:t,amountUSD:e,address:n,txId:null,requestedAt:Date.now(),confirmedAt:null,confirmationMs:null};je.set(i),Oe.set("waiting"),mn.set(Date.now()),se=setInterval(()=>{Se.set(Date.now()-en(mn))},16),nr=Lo(n,r,s=>{const o=Date.now(),l=en(mn),a=o-l,u={...i,txId:s,confirmedAt:o,confirmationMs:a};je.set(u),Ae.update(f=>[...f,u]),Se.set(a),Oe.set("confirmed"),se&&clearInterval(se),se=null,Ho()},s=>{console.warn("Payment watch error:",s)})}function Vo(){nr?.stop(),nr=null,se&&clearInterval(se),se=null,Oe.set("idle"),je.set(null),Se.set(0)}function zo(){Oe.set("idle"),je.set(null),Se.set(0),mr.set(0),wr.set(0)}function Ho(){try{const t=new AudioContext,e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1200,t.currentTime+.1),e.frequency.setValueAtTime(1600,t.currentTime+.2),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.4),e.start(t.currentTime),e.stop(t.currentTime+.4)}catch{}}var Yo=Z('<button class="text-white/40 hover:text-white/80 transition-[color] duration-150 p-2" aria-label="Transaction history"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button>'),$o=Z('<div class="mx-4 mb-3 p-4 bg-kaspa-surface rounded-[--radius-lg] border border-kaspa-border"><label for="merchant-address" class="block text-white/50 text-xs uppercase tracking-wider mb-2">Merchant Kaspa Address</label> <input id="merchant-address" type="text" placeholder="kaspa:qr..." class="w-full bg-kaspa-dark border border-kaspa-border rounded-[--radius-sm] px-3 py-2.5 text-white/90 text-base font-mono placeholder:text-white/20 focus:outline-none focus:border-kaspa-teal/50 transition-[border-color] duration-150"/> <button class="mt-3 w-full bg-kaspa-teal/20 hover:bg-kaspa-teal/30 text-kaspa-teal font-medium py-2.5 rounded-[--radius-sm] transition-[background-color] duration-150 text-sm">Save Address</button></div>'),Jo=Z('<span class="text-white/30">$</span> ',1),Go=Z(' <span class="text-white/30 text-2xl">KAS</span>',1),Qo=Z('<div class="mx-4 mb-2 px-3 py-2 bg-danger/10 border border-danger/20 rounded-[--radius-sm] text-danger text-sm"> </div>'),Wo=Z("<button> </button>"),Xo=Z('<div class="flex flex-col h-full"><div class="flex items-center justify-between px-4 pt-4 pb-2"><div class="flex items-center gap-2"><div class="w-8 h-8 rounded-[--radius-sm] bg-kaspa-teal/20 flex items-center justify-center"><span class="text-kaspa-teal font-bold text-sm">K</span></div> <span class="text-white/80 font-medium text-sm tracking-wide">KaspaPOS</span></div> <div class="flex items-center gap-1"><!> <button class="text-white/40 hover:text-white/80 transition-[color] duration-150 p-2" aria-label="Settings"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></button></div></div> <!> <div class="flex-none px-4 py-6"><button class="text-white/40 text-xs uppercase tracking-wider hover:text-white/60 transition-[color] duration-150 mb-1"> <svg class="w-3 h-3 inline ml-0.5 -mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path></svg></button> <div class="text-5xl font-bold text-white tracking-tight font-mono tabular-nums min-h-[3.5rem]"><!></div> <div class="text-white/40 text-sm mt-1 font-mono"><!> <span class="text-white/20 ml-2"> </span></div></div> <!> <div class="flex-1 px-4 pb-4 flex flex-col gap-2"><div class="grid grid-cols-3 gap-2 flex-1"></div> <button class="w-full py-3 rounded-[--radius-lg] bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60 transition-[background-color,color] duration-150 text-sm flex items-center justify-center gap-1.5"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l7-7 11 0v14H10L3 12z"></path></svg> Delete</button> <button><!></button></div></div>');function Zo(t,e){ze(e,!1);const n=()=>ut(br,"$kasPrice",o),r=()=>ut(Ke,"$merchantAddress",o),i=()=>ut(Ae,"$payments",o),s=()=>ut(er,"$error",o),[o,l]=Ge(),a=J(),u=J(),f=J();let v=Gi(e,"onShowHistory",8,()=>{}),d=J("usd"),c=J(""),p=J(!1),_=J(""),g=J(!1);_r(()=>{Ko(),L(_,r())});function m(B){B.key==="Escape"&&h(p)&&L(p,!1)}function y(B){if(B==="CLR"){L(c,"");return}if(B==="."&&h(c).includes("."))return;if(B==="."&&!h(c)){L(c,"0.");return}const F=h(c).split(".");F[1]&&F[1].length>=(h(d)==="usd"?2:8)||L(c,h(c)+B)}function A(){L(c,h(c).slice(0,-1))}async function k(){h(u)<=0||(L(g,!0),await jo(h(u),h(f)),L(g,!1))}function D(){Ke.set(h(_).trim()),L(p,!1)}function b(){L(d,h(d)==="usd"?"kas":"usd"),L(c,"")}const C=["1","2","3","4","5","6","7","8","9",".","0","CLR"];It(()=>h(c),()=>{L(a,parseFloat(h(c))||0)}),It(()=>(h(d),h(a),n()),()=>{L(u,h(d)==="usd"?Uo(h(a),n()):h(a))}),It(()=>(h(d),h(a),n()),()=>{L(f,h(d)==="kas"?Wi(h(a),n()):h(a))}),cn(),hn();var x=Xo();po("keydown",Jn,m);var w=M(x),S=I(M(w),2),T=M(S);{var R=B=>{var F=Yo();F.__click=function(...$){v()?.apply(this,$)},V(B,F)};vt(T,B=>{i(),N(()=>i().length>0)&&B(R)})}var E=I(T,2);E.__click=()=>{L(p,!h(p)),h(p)&&L(_,r())};var P=I(w,2);{var W=B=>{var F=$o(),$=I(M(F),2),vn=I($,2);vn.__click=D,So($,()=>h(_),ss=>L(_,ss)),V(B,F)};vt(P,B=>{h(p)&&B(W)})}var ct=I(P,2),H=M(ct);H.__click=b;var Pt=M(H),Lt=I(H,2),Rt=M(Lt);{var G=B=>{var F=Jo(),$=I(Gn(F),1,!0);X(()=>j($,h(c)||"0")),V(B,F)},U=B=>{var F=Go(),$=Gn(F);X(()=>j($,`${(h(c)||"0")??""} `)),V(B,F)};vt(Rt,B=>{h(d)==="usd"?B(G):B(U,!1)})}var gt=I(Lt,2),_t=M(gt);{var Ft=B=>{var F=Wt();X($=>j(F,`${$??""} KAS`),[()=>(h(u),N(()=>h(u).toFixed(2)))]),V(B,F)},Yt=B=>{var F=Wt();X($=>j(F,`$${$??""} USD`),[()=>(h(f),N(()=>h(f).toFixed(2)))]),V(B,F)};vt(_t,B=>{h(d)==="usd"?B(Ft):B(Yt,!1)})}var it=I(_t,2),tt=M(it),st=I(ct,2);{var qt=B=>{var F=Qo(),$=M(F);X(()=>j($,s())),V(B,F)};vt(st,B=>{s()&&B(qt)})}var Re=I(st,2),dt=M(Re);pr(dt,5,()=>C,vr,(B,F)=>{var $=Wo();$.__click=()=>y(h(F));var vn=M($);X(()=>{Ot($,1,`rounded-[--radius-lg] text-xl font-medium transition-[transform,background-color] duration-150 ease-out active:scale-[0.97]
            ${h(F)==="CLR"?"bg-white/5 text-white/40 hover:bg-white/10 text-sm tracking-wider":"bg-kaspa-surface hover:bg-kaspa-surface/80 text-white border border-kaspa-border/50"}`),j(vn,h(F))}),V(B,$)});var ot=I(dt,2);ot.__click=A;var Ct=I(ot,2);Ct.__click=k;var Be=M(Ct);{var Ie=B=>{var F=Wt("Connecting...");V(B,F)},ns=B=>{var F=Wt("Tap gear to set address");V(B,F)},rs=B=>{var F=Wt("Enter Amount");V(B,F)},is=B=>{var F=Wt();X($=>j(F,`Charge ${$??""} KAS`),[()=>(h(u),N(()=>h(u).toFixed(2)))]),V(B,F)};vt(Be,B=>{h(g)?B(Ie):r()?h(u)<=0?B(rs,2):B(is,!1):B(ns,1)})}X(B=>{j(Pt,`${h(d)==="usd"?"USD":"KAS"} `),j(tt,`@ $${B??""}`),Ct.disabled=h(u)<=0||!r()||h(g),Ot(Ct,1,`w-full py-4 rounded-[--radius-lg] font-bold text-lg transition-[transform,filter] duration-150 ease-out active:scale-[0.97]
        ${h(u)>0&&r()&&!h(g)?"bg-kaspa-teal text-kaspa-dark shadow-lg shadow-kaspa-teal/20":"bg-white/5 text-white/20 cursor-not-allowed"}`)},[()=>(n(),N(()=>n().toFixed(4)))]),V(t,x),He(),l()}dn(["click"]);function ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ge={},wn,Ir;function ea(){return Ir||(Ir=1,wn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),wn}var bn={},Qt={},Nr;function de(){if(Nr)return Qt;Nr=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Qt.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Qt.getSymbolTotalCodewords=function(r){return e[r]},Qt.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Qt.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Qt.isKanjiModeEnabled=function(){return typeof t<"u"},Qt.toSJIS=function(r){return t(r)},Qt}var yn={},Dr;function yr(){return Dr||(Dr=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(yn)),yn}var xn,Lr;function na(){if(Lr)return xn;Lr=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},xn=t,xn}var En,Fr;function ra(){if(Fr)return En;Fr=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},En=t,En}var Cn={},qr;function ia(){return qr||(qr=1,(function(t){const e=de().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let a=1;a<i-1;a++)l[a]=l[a-1]-o;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let l=0;l<o;l++)for(let a=0;a<o;a++)l===0&&a===0||l===0&&a===o-1||l===o-1&&a===0||i.push([s[l],s[a]]);return i}})(Cn)),Cn}var kn={},Ur;function sa(){if(Ur)return kn;Ur=1;const t=de().getSymbolSize,e=7;return kn.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},kn}var An={},Or;function oa(){return Or||(Or=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,l=0,a=0,u=null,f=null;for(let v=0;v<s;v++){l=a=0,u=f=null;for(let d=0;d<s;d++){let c=i.get(v,d);c===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=c,l=1),c=i.get(d,v),c===f?a++:(a>=5&&(o+=e.N1+(a-5)),f=c,a=1)}l>=5&&(o+=e.N1+(l-5)),a>=5&&(o+=e.N1+(a-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let l=0;l<s-1;l++)for(let a=0;a<s-1;a++){const u=i.get(l,a)+i.get(l,a+1)+i.get(l+1,a)+i.get(l+1,a+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,l=0,a=0;for(let u=0;u<s;u++){l=a=0;for(let f=0;f<s;f++)l=l<<1&2047|i.get(u,f),f>=10&&(l===1488||l===93)&&o++,a=a<<1&2047|i.get(f,u),f>=10&&(a===1488||a===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let a=0;a<o;a++)s+=i.data[a];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let l=0;l<o;l++)for(let a=0;a<o;a++)s.isReserved(a,l)||s.xor(a,l,n(i,a,l))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let l=0,a=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),f<a&&(a=f,l=u)}return l}})(An)),An}var Ze={},Kr;function Xi(){if(Kr)return Ze;Kr=1;const t=yr(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Ze.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Ze.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Ze}var Sn={},De={},jr;function aa(){if(jr)return De;jr=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),De.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},De.exp=function(r){return t[r]},De.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},De}var Vr;function la(){return Vr||(Vr=1,(function(t){const e=aa();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<i.length;l++)s[o+l]^=e.mul(r[o],i[l]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let a=0;a<i.length;a++)s[a]^=e.mul(i[a],o);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Sn)),Sn}var Tn,zr;function ua(){if(zr)return Tn;zr=1;const t=la();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(s,o),l}return s},Tn=e,Tn}var Mn={},Pn={},Rn={},Hr;function Zi(){return Hr||(Hr=1,Rn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Rn}var Bt={},Yr;function ts(){if(Yr)return Bt;Yr=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Bt.KANJI=new RegExp(n,"g"),Bt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Bt.BYTE=new RegExp(r,"g"),Bt.NUMERIC=new RegExp(t,"g"),Bt.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Bt.testKanji=function(a){return i.test(a)},Bt.testNumeric=function(a){return s.test(a)},Bt.testAlphanumeric=function(a){return o.test(a)},Bt}var $r;function he(){return $r||($r=1,(function(t){const e=Zi(),n=ts();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(Pn)),Pn}var Jr;function fa(){return Jr||(Jr=1,(function(t){const e=de(),n=Xi(),r=yr(),i=he(),s=Zi(),o=7973,l=e.getBCHDigit(o);function a(d,c,p){for(let _=1;_<=40;_++)if(c<=t.getCapacity(_,p,d))return _}function u(d,c){return i.getCharCountIndicator(d,c)+4}function f(d,c){let p=0;return d.forEach(function(_){const g=u(_.mode,c);p+=g+_.getBitsLength()}),p}function v(d,c){for(let p=1;p<=40;p++)if(f(d,p)<=t.getCapacity(p,c,i.MIXED))return p}t.from=function(c,p){return s.isValid(c)?parseInt(c,10):p},t.getCapacity=function(c,p,_){if(!s.isValid(c))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const g=e.getSymbolTotalCodewords(c),m=n.getTotalCodewordsCount(c,p),y=(g-m)*8;if(_===i.MIXED)return y;const A=y-u(_,c);switch(_){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);case i.BYTE:default:return Math.floor(A/8)}},t.getBestVersionForData=function(c,p){let _;const g=r.from(p,r.M);if(Array.isArray(c)){if(c.length>1)return v(c,g);if(c.length===0)return 1;_=c[0]}else _=c;return a(_.mode,_.getLength(),g)},t.getEncodedBits=function(c){if(!s.isValid(c)||c<7)throw new Error("Invalid QR Code version");let p=c<<12;for(;e.getBCHDigit(p)-l>=0;)p^=o<<e.getBCHDigit(p)-l;return c<<12|p}})(Mn)),Mn}var Bn={},Gr;function ca(){if(Gr)return Bn;Gr=1;const t=de(),e=1335,n=21522,r=t.getBCHDigit(e);return Bn.getEncodedBits=function(s,o){const l=s.bit<<3|o;let a=l<<10;for(;t.getBCHDigit(a)-r>=0;)a^=e<<t.getBCHDigit(a)-r;return(l<<10|a)^n},Bn}var In={},Nn,Qr;function da(){if(Qr)return Nn;Qr=1;const t=he();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,l*3+1))},Nn=e,Nn}var Dn,Wr;function ha(){if(Wr)return Dn;Wr=1;const t=he(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},Dn=n,Dn}var Ln,Xr;function va(){if(Xr)return Ln;Xr=1;const t=he();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},Ln=e,Ln}var Fn,Zr;function pa(){if(Zr)return Fn;Zr=1;const t=he(),e=de();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},Fn=n,Fn}var qn={exports:{}},ti;function ga(){return ti||(ti=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var a,u,f,v,d,c,p,_,g;!l.empty();){a=l.pop(),u=a.value,v=a.cost,d=n[u]||{};for(f in d)d.hasOwnProperty(f)&&(c=d[f],p=v+c,_=o[f],g=typeof o[f]>"u",(g||_>p)&&(o[f]=p,l.push(f,p),s[f]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var m=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(qn)),qn.exports}var ei;function _a(){return ei||(ei=1,(function(t){const e=he(),n=da(),r=ha(),i=va(),s=pa(),o=ts(),l=de(),a=ga();function u(m){return unescape(encodeURIComponent(m)).length}function f(m,y,A){const k=[];let D;for(;(D=m.exec(A))!==null;)k.push({data:D[0],index:D.index,mode:y,length:D[0].length});return k}function v(m){const y=f(o.NUMERIC,e.NUMERIC,m),A=f(o.ALPHANUMERIC,e.ALPHANUMERIC,m);let k,D;return l.isKanjiModeEnabled()?(k=f(o.BYTE,e.BYTE,m),D=f(o.KANJI,e.KANJI,m)):(k=f(o.BYTE_KANJI,e.BYTE,m),D=[]),y.concat(A,k,D).sort(function(C,x){return C.index-x.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function d(m,y){switch(y){case e.NUMERIC:return n.getBitsLength(m);case e.ALPHANUMERIC:return r.getBitsLength(m);case e.KANJI:return s.getBitsLength(m);case e.BYTE:return i.getBitsLength(m)}}function c(m){return m.reduce(function(y,A){const k=y.length-1>=0?y[y.length-1]:null;return k&&k.mode===A.mode?(y[y.length-1].data+=A.data,y):(y.push(A),y)},[])}function p(m){const y=[];for(let A=0;A<m.length;A++){const k=m[A];switch(k.mode){case e.NUMERIC:y.push([k,{data:k.data,mode:e.ALPHANUMERIC,length:k.length},{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.ALPHANUMERIC:y.push([k,{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.KANJI:y.push([k,{data:k.data,mode:e.BYTE,length:u(k.data)}]);break;case e.BYTE:y.push([{data:k.data,mode:e.BYTE,length:u(k.data)}])}}return y}function _(m,y){const A={},k={start:{}};let D=["start"];for(let b=0;b<m.length;b++){const C=m[b],x=[];for(let w=0;w<C.length;w++){const S=C[w],T=""+b+w;x.push(T),A[T]={node:S,lastCount:0},k[T]={};for(let R=0;R<D.length;R++){const E=D[R];A[E]&&A[E].node.mode===S.mode?(k[E][T]=d(A[E].lastCount+S.length,S.mode)-d(A[E].lastCount,S.mode),A[E].lastCount+=S.length):(A[E]&&(A[E].lastCount=S.length),k[E][T]=d(S.length,S.mode)+4+e.getCharCountIndicator(S.mode,y))}}D=x}for(let b=0;b<D.length;b++)k[D[b]].end=0;return{map:k,table:A}}function g(m,y){let A;const k=e.getBestModeForData(m);if(A=e.from(y,k),A!==e.BYTE&&A.bit<k.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(A)+`.
 Suggested mode is: `+e.toString(k));switch(A===e.KANJI&&!l.isKanjiModeEnabled()&&(A=e.BYTE),A){case e.NUMERIC:return new n(m);case e.ALPHANUMERIC:return new r(m);case e.KANJI:return new s(m);case e.BYTE:return new i(m)}}t.fromArray=function(y){return y.reduce(function(A,k){return typeof k=="string"?A.push(g(k,null)):k.data&&A.push(g(k.data,k.mode)),A},[])},t.fromString=function(y,A){const k=v(y,l.isKanjiModeEnabled()),D=p(k),b=_(D,A),C=a.find_path(b.map,"start","end"),x=[];for(let w=1;w<C.length-1;w++)x.push(b.table[C[w]].node);return t.fromArray(c(x))},t.rawSplit=function(y){return t.fromArray(v(y,l.isKanjiModeEnabled()))}})(In)),In}var ni;function ma(){if(ni)return bn;ni=1;const t=de(),e=yr(),n=na(),r=ra(),i=ia(),s=sa(),o=oa(),l=Xi(),a=ua(),u=fa(),f=ca(),v=he(),d=_a();function c(b,C){const x=b.size,w=s.getPositions(C);for(let S=0;S<w.length;S++){const T=w[S][0],R=w[S][1];for(let E=-1;E<=7;E++)if(!(T+E<=-1||x<=T+E))for(let P=-1;P<=7;P++)R+P<=-1||x<=R+P||(E>=0&&E<=6&&(P===0||P===6)||P>=0&&P<=6&&(E===0||E===6)||E>=2&&E<=4&&P>=2&&P<=4?b.set(T+E,R+P,!0,!0):b.set(T+E,R+P,!1,!0))}}function p(b){const C=b.size;for(let x=8;x<C-8;x++){const w=x%2===0;b.set(x,6,w,!0),b.set(6,x,w,!0)}}function _(b,C){const x=i.getPositions(C);for(let w=0;w<x.length;w++){const S=x[w][0],T=x[w][1];for(let R=-2;R<=2;R++)for(let E=-2;E<=2;E++)R===-2||R===2||E===-2||E===2||R===0&&E===0?b.set(S+R,T+E,!0,!0):b.set(S+R,T+E,!1,!0)}}function g(b,C){const x=b.size,w=u.getEncodedBits(C);let S,T,R;for(let E=0;E<18;E++)S=Math.floor(E/3),T=E%3+x-8-3,R=(w>>E&1)===1,b.set(S,T,R,!0),b.set(T,S,R,!0)}function m(b,C,x){const w=b.size,S=f.getEncodedBits(C,x);let T,R;for(T=0;T<15;T++)R=(S>>T&1)===1,T<6?b.set(T,8,R,!0):T<8?b.set(T+1,8,R,!0):b.set(w-15+T,8,R,!0),T<8?b.set(8,w-T-1,R,!0):T<9?b.set(8,15-T-1+1,R,!0):b.set(8,15-T-1,R,!0);b.set(w-8,8,1,!0)}function y(b,C){const x=b.size;let w=-1,S=x-1,T=7,R=0;for(let E=x-1;E>0;E-=2)for(E===6&&E--;;){for(let P=0;P<2;P++)if(!b.isReserved(S,E-P)){let W=!1;R<C.length&&(W=(C[R]>>>T&1)===1),b.set(S,E-P,W),T--,T===-1&&(R++,T=7)}if(S+=w,S<0||x<=S){S-=w,w=-w;break}}}function A(b,C,x){const w=new n;x.forEach(function(P){w.put(P.mode.bit,4),w.put(P.getLength(),v.getCharCountIndicator(P.mode,b)),P.write(w)});const S=t.getSymbolTotalCodewords(b),T=l.getTotalCodewordsCount(b,C),R=(S-T)*8;for(w.getLengthInBits()+4<=R&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const E=(R-w.getLengthInBits())/8;for(let P=0;P<E;P++)w.put(P%2?17:236,8);return k(w,b,C)}function k(b,C,x){const w=t.getSymbolTotalCodewords(C),S=l.getTotalCodewordsCount(C,x),T=w-S,R=l.getBlocksCount(C,x),E=w%R,P=R-E,W=Math.floor(w/R),ct=Math.floor(T/R),H=ct+1,Pt=W-ct,Lt=new a(Pt);let Rt=0;const G=new Array(R),U=new Array(R);let gt=0;const _t=new Uint8Array(b.buffer);for(let st=0;st<R;st++){const qt=st<P?ct:H;G[st]=_t.slice(Rt,Rt+qt),U[st]=Lt.encode(G[st]),Rt+=qt,gt=Math.max(gt,qt)}const Ft=new Uint8Array(w);let Yt=0,it,tt;for(it=0;it<gt;it++)for(tt=0;tt<R;tt++)it<G[tt].length&&(Ft[Yt++]=G[tt][it]);for(it=0;it<Pt;it++)for(tt=0;tt<R;tt++)Ft[Yt++]=U[tt][it];return Ft}function D(b,C,x,w){let S;if(Array.isArray(b))S=d.fromArray(b);else if(typeof b=="string"){let W=C;if(!W){const ct=d.rawSplit(b);W=u.getBestVersionForData(ct,x)}S=d.fromString(b,W||40)}else throw new Error("Invalid data");const T=u.getBestVersionForData(S,x);if(!T)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=T;else if(C<T)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+T+`.
`);const R=A(C,x,S),E=t.getSymbolSize(C),P=new r(E);return c(P,C),p(P),_(P,C),m(P,x,0),C>=7&&g(P,C),y(P,R),isNaN(w)&&(w=o.getBestMask(P,m.bind(null,P,x))),o.applyMask(w,P),m(P,x,w),{modules:P,version:C,errorCorrectionLevel:x,maskPattern:w,segments:S}}return bn.create=function(C,x){if(typeof C>"u"||C==="")throw new Error("No input text");let w=e.M,S,T;return typeof x<"u"&&(w=e.from(x.errorCorrectionLevel,e.M),S=u.from(x.version),T=o.from(x.maskPattern),x.toSJISFunc&&t.setToSJISFunction(x.toSJISFunc)),D(C,S,w,T)},bn}var Un={},On={},ri;function es(){return ri||(ri=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,l=i.modules.data,a=t.getScale(o,s),u=Math.floor((o+s.margin*2)*a),f=s.margin*a,v=[s.color.light,s.color.dark];for(let d=0;d<u;d++)for(let c=0;c<u;c++){let p=(d*u+c)*4,_=s.color.light;if(d>=f&&c>=f&&d<u-f&&c<u-f){const g=Math.floor((d-f)/a),m=Math.floor((c-f)/a);_=v[l[g*o+m]?1:0]}r[p++]=_.r,r[p++]=_.g,r[p++]=_.b,r[p]=_.a}}})(On)),On}var ii;function wa(){return ii||(ii=1,(function(t){const e=es();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,l){let a=l,u=o;typeof a>"u"&&(!o||!o.getContext)&&(a=o,o=void 0),o||(u=r()),a=e.getOptions(a);const f=e.getImageWidth(s.modules.size,a),v=u.getContext("2d"),d=v.createImageData(f,f);return e.qrToImageData(d.data,s,a),n(v,u,f),v.putImageData(d,0,0),u},t.renderToDataURL=function(s,o,l){let a=l;typeof a>"u"&&(!o||!o.getContext)&&(a=o,o=void 0),a||(a={});const u=t.render(s,o,a),f=a.type||"image/png",v=a.rendererOpts||{};return u.toDataURL(f,v.quality)}})(Un)),Un}var Kn={},si;function ba(){if(si)return Kn;si=1;const t=es();function e(i,s){const o=i.a/255,l=s+'="'+i.hex+'"';return o<1?l+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function n(i,s,o){let l=i+s;return typeof o<"u"&&(l+=" "+o),l}function r(i,s,o){let l="",a=0,u=!1,f=0;for(let v=0;v<i.length;v++){const d=Math.floor(v%s),c=Math.floor(v/s);!d&&!u&&(u=!0),i[v]?(f++,v>0&&d>0&&i[v-1]||(l+=u?n("M",d+o,.5+c+o):n("m",a,0),a=0,u=!1),d+1<s&&i[v+1]||(l+=n("h",f),f=0)):a++}return l}return Kn.render=function(s,o,l){const a=t.getOptions(o),u=s.modules.size,f=s.modules.data,v=u+a.margin*2,d=a.color.light.a?"<path "+e(a.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",c="<path "+e(a.color.dark,"stroke")+' d="'+r(f,u,a.margin)+'"/>',p='viewBox="0 0 '+v+" "+v+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+p+' shape-rendering="crispEdges">'+d+c+`</svg>
`;return typeof l=="function"&&l(null,g),g},Kn}var oi;function ya(){if(oi)return ge;oi=1;const t=ea(),e=ma(),n=wa(),r=ba();function i(s,o,l,a,u){const f=[].slice.call(arguments,1),v=f.length,d=typeof f[v-1]=="function";if(!d&&!t())throw new Error("Callback required as last argument");if(d){if(v<2)throw new Error("Too few arguments provided");v===2?(u=l,l=o,o=a=void 0):v===3&&(o.getContext&&typeof u>"u"?(u=a,a=void 0):(u=a,a=l,l=o,o=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(l=o,o=a=void 0):v===2&&!o.getContext&&(a=l,l=o,o=void 0),new Promise(function(c,p){try{const _=e.create(l,a);c(s(_,o,a))}catch(_){p(_)}})}try{const c=e.create(l,a);u(null,s(c,o,a))}catch(c){u(c)}}return ge.create=e.create,ge.toCanvas=i.bind(null,n.render),ge.toDataURL=i.bind(null,n.renderToDataURL),ge.toString=i.bind(null,function(s,o,l){return r.render(s,l)}),ge}var xa=ya();const Ea=ta(xa);var Ca=Z('<div class="flex flex-col items-center justify-center h-full px-4 py-6 gap-6"><div class="text-center"><div class="text-white/40 text-sm uppercase tracking-wider mb-1">Payment Request</div> <div class="text-4xl font-bold text-white font-mono tabular-nums"> <span class="text-kaspa-teal">KAS</span></div> <div class="text-white/40 text-sm mt-0.5 font-mono"> </div></div> <div class="bg-white rounded-2xl p-4 qr-glow"><canvas></canvas></div> <div class="text-center"><div class="flex items-center gap-2 justify-center"><div class="w-2 h-2 rounded-full bg-kaspa-teal animate-pulse"></div> <span class="text-white/50 text-sm">Waiting for payment</span></div> <div class="text-3xl font-mono font-bold text-white/80 tabular-nums mt-2"> </div></div> <div class="text-white/20 text-xs font-mono break-all text-center max-w-[300px]"> </div> <button class="text-white/30 hover:text-white/60 text-sm transition-[color] duration-150 py-2 px-6">Cancel</button></div>');function ka(t,e){ze(e,!1);const n=()=>ut(Ke,"$merchantAddress",o),r=()=>ut(mr,"$amountKAS",o),i=()=>ut(Se,"$elapsedMs",o),s=()=>ut(wr,"$amountUSD",o),[o,l]=Ge(),a=J();let u=J(),f="";_r(()=>{f=Do(n(),r()),Ea.toCanvas(h(u),f,{width:280,margin:2,color:{dark:"#0a0e17",light:"#ffffff"},errorCorrectionLevel:"M"})}),It(()=>i(),()=>{L(a,(i()/1e3).toFixed(1))}),cn(),hn();var v=Ca(),d=M(v),c=I(M(d),2),p=M(c),_=I(c,2),g=M(_),m=I(d,2),y=M(m);To(y,w=>L(u,w),()=>h(u));var A=I(m,2),k=I(M(A),2),D=M(k),b=I(A,2),C=M(b),x=I(b,2);x.__click=function(...w){Vo?.apply(this,w)},X((w,S)=>{j(p,`${w??""} `),j(g,`$${S??""} USD`),j(D,`${h(a)??""}s`),j(C,n())},[()=>(r(),N(()=>r().toFixed(2))),()=>(s(),N(()=>s().toFixed(2)))]),V(t,v),He(),l()}dn(["click"]);var Aa=Z('<div class="flex items-center gap-2"><div class="w-16 text-right text-[11px] font-medium shrink-0"> </div> <div class="flex-1 h-6 bg-white/5 rounded-full overflow-hidden relative"><div class="h-full rounded-full transition-[transform,opacity] duration-1000 ease-out"></div> <span><!></span></div></div>'),Sa=Z('<div class="mt-3 text-white/15 text-[10px] font-mono break-all text-center max-w-[280px]"> </div>'),Ta=Z('<div class="flex flex-col items-center justify-center h-full px-4 py-5 overflow-hidden"><div class="relative mb-4"><div></div> <div><svg class="w-10 h-10 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" class="transition-[transform,opacity] duration-300 delay-300"></path></svg></div></div> <div><div class="text-success text-xs font-medium uppercase tracking-wider">Payment Confirmed</div> <div class="text-3xl font-bold text-white font-mono tabular-nums mt-1"> <span class="text-kaspa-teal">KAS</span></div> <div class="text-white/40 text-sm font-mono"> </div></div> <div><div class="text-5xl font-bold font-mono tabular-nums text-kaspa-teal"> <span class="text-xl text-kaspa-teal/50">s</span></div> <div class="text-white/30 text-[10px] uppercase tracking-wider mt-1">Confirmation Time</div></div> <div><div class="text-white/30 text-[10px] uppercase tracking-wider text-center mb-2">Speed Comparison</div> <!></div> <!> <button class="mt-4 w-full max-w-sm py-3.5 rounded-[--radius-lg] bg-kaspa-teal text-kaspa-dark font-bold text-lg transition-[transform] duration-150 ease-out active:scale-[0.97] shadow-lg shadow-kaspa-teal/20">New Sale</button></div>');function Ma(t,e){ze(e,!1);const n=()=>ut(je,"$currentPayment",i),r=()=>ut(Se,"$elapsedMs",i),[i,s]=Ge(),o=J(),l=J(),a=J(),u=J();let f=J(!1),v=J(!1);const d=600;_r(()=>{requestAnimationFrame(()=>{L(f,!0),setTimeout(()=>{L(v,!0)},400)})}),It(()=>(n(),r()),()=>{L(o,n()?.confirmationMs??r())}),It(()=>h(o),()=>{L(l,(h(o)/1e3).toFixed(1))}),It(()=>h(o),()=>{L(a,h(o)/1e3)}),It(()=>h(a),()=>{L(u,[{name:"Kaspa",time:h(a),color:"#49eacb",confirmed:!0},{name:"Solana",time:12,color:"#9945FF",confirmed:!1},{name:"Ethereum",time:180,color:"#627EEA",confirmed:!1},{name:"Bitcoin",time:600,color:"#F7931A",confirmed:!1}])}),cn(),hn();var c=Ta(),p=M(c),_=M(p);let g;var m=I(_,2);let y;var A=M(m),k=M(A),D=I(p,2);let b;var C=I(M(D),2),x=M(C),w=I(C,2),S=M(w),T=I(D,2);let R;var E=M(T),P=M(E),W=I(T,2);let ct;var H=I(M(W),2);pr(H,1,()=>h(u),vr,(G,U)=>{var gt=Aa(),_t=M(gt),Ft=M(_t),Yt=I(_t,2),it=M(Yt),tt=I(it,2),st=M(tt);{var qt=dt=>{var ot=Wt();X(Ct=>j(ot,`${Ct??""}s â`),[()=>(h(U),N(()=>h(U).time.toFixed(1)))]),V(dt,ot)},Re=dt=>{var ot=Wt();X(()=>j(ot,`~${h(U),N(()=>h(U).time)??""}s`)),V(dt,ot)};vt(st,dt=>{h(U),N(()=>h(U).confirmed)?dt(qt):dt(Re,!1)})}X(dt=>{We(_t,`color: ${h(U),N(()=>h(U).color)??""}`),j(Ft,(h(U),N(()=>h(U).name))),We(it,`
              width: ${dt??""}%;
              background: ${h(U),N(()=>h(U).color)??""}22;
              border: 1px solid ${h(U),N(()=>h(U).color)??""}44;
            `),Ot(tt,1,`absolute right-2 top-1/2 -translate-y-1/2 text-[10px] font-mono ${h(U),N(()=>h(U).confirmed?"font-bold":"text-white/30")??""}`),We(tt,(h(U),N(()=>h(U).confirmed?`color: ${h(U).color}`:"")))},[()=>(h(v),h(U),N(()=>h(v)?Math.max(3,h(U).time/d*100):0))]),V(G,gt)});var Pt=I(W,2);{var Lt=G=>{var U=Sa(),gt=M(U);X(_t=>j(gt,`TX: ${_t??""}...`),[()=>(n(),N(()=>n().txId.slice(0,20)))]),V(G,U)};vt(Pt,G=>{n(),N(()=>n()?.txId)&&G(Lt)})}var Rt=I(Pt,2);Rt.__click=function(...G){zo?.apply(this,G)},X((G,U)=>{g=Ot(_,1,"absolute inset-0 rounded-full bg-success/20 blur-xl transition-[transform,opacity] duration-700",null,g,{"scale-150":h(f),"opacity-100":h(f),"opacity-0":!h(f)}),y=Ot(m,1,"relative w-20 h-20 rounded-full bg-success/20 border-2 border-success flex items-center justify-center transition-[transform,opacity] duration-500",null,y,{"scale-100":h(f),"scale-0":!h(f)}),We(k,`stroke-dasharray: 24; stroke-dashoffset: ${h(f)?0:24}`),b=Ot(D,1,"text-center mb-1 transition-[transform,opacity] duration-500 delay-200",null,b,{"opacity-100":h(f),"opacity-0":!h(f),"translate-y-0":h(f),"translate-y-4":!h(f)}),j(x,`${G??""} `),j(S,`$${U??""} USD`),R=Ot(T,1,"text-center mb-4 transition-[transform,opacity] duration-500 delay-300",null,R,{"opacity-100":h(f),"opacity-0":!h(f)}),j(P,h(l)),ct=Ot(W,1,"w-full max-w-sm space-y-2 transition-[transform,opacity] duration-500 delay-500",null,ct,{"opacity-100":h(v),"opacity-0":!h(v)})},[()=>(n(),N(()=>n()?.amountKAS.toFixed(2))),()=>(n(),N(()=>n()?.amountUSD.toFixed(2)))]),V(t,c),He(),s()}dn(["click"]);var Pa=Z('<div class="flex flex-col items-center justify-center h-full text-white/20 gap-2"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <span class="text-sm">No transactions yet</span></div>'),Ra=Z('<span class="text-kaspa-teal text-xs font-mono"> </span>'),Ba=Z('<div class="px-4 py-3 border-b border-kaspa-border/50 hover:bg-white/[0.02] transition-[color,background-color] duration-150"><div class="flex items-center justify-between"><div><span class="text-white font-mono font-medium tabular-nums"> </span> <span class="text-white/30 text-xs ml-2"> </span></div> <div class="text-right"><!></div></div> <div class="flex items-center justify-between mt-1"><span class="text-white/20 text-xs font-mono"> </span> <span class="text-white/20 text-xs"> </span></div></div>'),Ia=Z('<div class="px-4 py-3 border-t border-kaspa-border"><button class="w-full py-2 text-sm text-white/30 hover:text-danger transition-[color,background-color] duration-150 rounded-lg hover:bg-danger/5">Clear History</button></div>'),Na=Z(`<div class="flex flex-col h-full"><div class="flex items-center justify-between px-4 pt-4 pb-3 border-b border-kaspa-border"><h2 class="text-white font-medium">Transaction History</h2> <button class="text-white/40 hover:text-white/80 transition-[color,background-color] duration-150 p-1" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="px-4 py-4 bg-kaspa-surface/50 border-b border-kaspa-border"><div class="text-white/40 text-xs uppercase tracking-wider mb-1">Today's Total</div> <div class="flex items-baseline gap-2"><span class="text-2xl font-bold text-white font-mono tabular-nums"> </span> <span class="text-kaspa-teal font-medium">KAS</span> <span class="text-white/30 text-sm font-mono ml-auto"> </span></div> <div class="text-white/30 text-xs mt-1"> </div></div> <div class="flex-1 overflow-y-auto"><!></div> <!></div>`);function Da(t,e){ze(e,!1);const n=()=>ut(Ae,"$payments",s),r=()=>ut(Oo,"$sessionTotal",s),i=()=>ut(br,"$kasPrice",s),[s,o]=Ge(),l=J(),a=J();let u=Gi(e,"onClose",8);function f(E){return new Date(E).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function v(){Ae.set([])}It(()=>n(),()=>{L(l,[...n()].reverse())}),It(()=>(r(),i()),()=>{L(a,Wi(r(),i()))}),cn(),hn();var d=Na(),c=M(d),p=I(M(c),2);p.__click=function(...E){u()?.apply(this,E)};var _=I(c,2),g=I(M(_),2),m=M(g),y=M(m),A=I(m,4),k=M(A),D=I(g,2),b=M(D),C=I(_,2),x=M(C);{var w=E=>{var P=Pa();V(E,P)},S=E=>{var P=_o(),W=Gn(P);pr(W,1,()=>h(l),vr,(ct,H)=>{var Pt=Ba(),Lt=M(Pt),Rt=M(Lt),G=M(Rt),U=M(G),gt=I(G,2),_t=M(gt),Ft=I(Rt,2),Yt=M(Ft);{var it=ot=>{var Ct=Ra(),Be=M(Ct);X(Ie=>j(Be,`${Ie??""}s`),[()=>(h(H),N(()=>(h(H).confirmationMs/1e3).toFixed(1)))]),V(ot,Ct)};vt(Yt,ot=>{h(H),N(()=>h(H).confirmationMs)&&ot(it)})}var tt=I(Lt,2),st=M(tt),qt=M(st),Re=I(st,2),dt=M(Re);X((ot,Ct,Be,Ie)=>{j(U,`${ot??""} KAS`),j(_t,`$${Ct??""}`),j(qt,Be),j(dt,Ie)},[()=>(h(H),N(()=>h(H).amountKAS.toFixed(2))),()=>(h(H),N(()=>h(H).amountUSD.toFixed(2))),()=>(h(H),N(()=>h(H).txId?h(H).txId.slice(0,16)+"...":"pending")),()=>(h(H),N(()=>h(H).confirmedAt?f(h(H).confirmedAt):""))]),V(ct,Pt)}),V(E,P)};vt(x,E=>{h(l),N(()=>h(l).length===0)?E(w):E(S,!1)})}var T=I(C,2);{var R=E=>{var P=Ia(),W=M(P);W.__click=v,V(E,P)};vt(T,E=>{h(l),N(()=>h(l).length>0)&&E(R)})}X((E,P)=>{j(y,E),j(k,`$${P??""}`),j(b,`${h(l),N(()=>h(l).length)??""} transaction${h(l),N(()=>h(l).length!==1?"s":"")??""}`)},[()=>(r(),N(()=>r().toFixed(2))),()=>(h(a),N(()=>h(a).toFixed(2)))]),V(t,d),He(),o()}dn(["click"]);var La=Z("<div><!></div>"),Fa=Z('<div class="w-full h-full bg-kaspa-dark flex items-center justify-center"><div class="w-full max-w-md h-full max-h-[900px] flex flex-col relative overflow-hidden"><!> <!></div></div>');function qa(t){const e=()=>ut(Oe,"$state",n),[n,r]=Ge();let i=J(!1);var s=Fa(),o=M(s),l=M(o);{var a=c=>{Zo(c,{onShowHistory:()=>L(i,!0)})},u=c=>{ka(c,{})},f=c=>{Ma(c,{})};vt(l,c=>{e()==="idle"?c(a):e()==="waiting"?c(u,1):e()==="confirmed"&&c(f,2)})}var v=I(l,2);{var d=c=>{var p=La();let _;var g=M(p);Da(g,{onClose:()=>L(i,!1)}),X(()=>_=Ot(p,1,"absolute inset-0 z-50 bg-kaspa-dark transition-transform duration-300",null,_,{"translate-x-0":h(i)})),V(c,p)};vt(v,c=>{h(i)&&c(d)})}V(t,s),r()}mo(qa,{target:document.getElementById("app")});
